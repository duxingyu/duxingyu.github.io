{"version":3,"sources":["webpack:///src/pages/appList.vue","webpack:///./src/pages/appList.vue?73ae","webpack:///./src/pages/appList.vue","webpack:///src/pages/userPanel.vue","webpack:///./src/pages/userPanel.vue?ca63","webpack:///./src/pages/userPanel.vue","webpack:///./src/router/router.js","webpack:///src/pages/about.vue","webpack:///./src/pages/about.vue?ef8f","webpack:///./src/pages/about.vue","webpack:///./src/store/index.js","webpack:///src/components/appSelf.vue","webpack:///./src/components/appSelf.vue?0d22","webpack:///./src/components/appSelf.vue","webpack:///src/components/appBar.vue","webpack:///./src/components/appBar.vue?9658","webpack:///./src/components/appBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?debc","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///src/pages/userTopics.vue","webpack:///./src/pages/userTopics.vue?dc21","webpack:///./src/pages/userTopics.vue","webpack:///src/components/appPrompt.vue","webpack:///./src/components/appPrompt.vue?65e4","webpack:///./src/components/appPrompt.vue","webpack:///src/pages/appLogin.vue","webpack:///./src/pages/appLogin.vue?81b5","webpack:///./src/pages/appLogin.vue","webpack:///src/pages/appUser.vue","webpack:///./src/pages/appUser.vue?904d","webpack:///./src/pages/appUser.vue","webpack:///src/components/appUtils.vue","webpack:///./src/components/appUtils.vue?222c","webpack:///./src/components/appUtils.vue","webpack:///./src/assets/utils.js","webpack:///src/pages/appMessage.vue","webpack:///./src/pages/appMessage.vue?fc39","webpack:///./src/pages/appMessage.vue","webpack:///src/components/appHeader.vue","webpack:///./src/components/appHeader.vue?2180","webpack:///./src/components/appHeader.vue","webpack:///src/components/appPublish.vue","webpack:///./src/components/appPublish.vue?74f9","webpack:///./src/components/appPublish.vue","webpack:///src/pages/topicContent.vue","webpack:///./src/pages/topicContent.vue?b69e","webpack:///./src/pages/topicContent.vue","webpack:///src/pages/topicComment.vue","webpack:///./src/pages/topicComment.vue?7c85","webpack:///./src/pages/topicComment.vue","webpack:///src/pages/appTopic.vue","webpack:///./src/pages/appTopic.vue?28a5","webpack:///./src/pages/appTopic.vue","webpack:///src/pages/newTopic.vue","webpack:///./src/pages/newTopic.vue?0fa3","webpack:///./src/pages/newTopic.vue","webpack:///./src/assets/img/github.svg"],"names":["appList","appHeader","appUtils","appPrompt","InfiniteLoading","vue_infinite_loading_default","a","tab","lastTag","$loadConfig","_this","this","crtTag","$http","get","page","then","res","_articleList","data","loaded","close","catch","err","getTime","utils","getTag","next","pages_appList","render","_vm","_h","$createElement","_c","_self","attrs","title","_v","staticClass","_l","article","key","id","class","to","_s","author","src","avatar_url","loginname","create_at","reply_count","visit_count","last_reply_at","articleList","on","infinite","getList","_e","show","prompt","text","promptText","hide","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","userPanel","pages_userPanel","alt","target","href","githubUsername","score","count","__WEBPACK_IMPORTED_MODULE_1_vue__","use","__WEBPACK_IMPORTED_MODULE_2_vue_router__","mode","base","__dirname","routes","path","name","component","__WEBPACK_IMPORTED_MODULE_3__pages_appList__","alias","__WEBPACK_IMPORTED_MODULE_4__pages_appTopic__","props","__WEBPACK_IMPORTED_MODULE_6__pages_appLogin__","__WEBPACK_IMPORTED_MODULE_5__pages_appUser__","children","__WEBPACK_IMPORTED_MODULE_9__pages_appMessage__","__WEBPACK_IMPORTED_MODULE_7__pages_newTopic__","__WEBPACK_IMPORTED_MODULE_8__pages_about__","scrollBehavior","from","savedPosition","position","hash","selector","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","setTimeout","matched","some","m","meta","scrollToTop","x","y","about","pages_about","_m","vue_esm","vuex_esm","src_store","store","Store","state","user","avatar","token","mesCount","topicMes","accesstoken","topic_id","content","defaultToken","mutations","setUser","keys_default","forEach","val","setCount","editTopic","appSelf","localStorage","components_appSelf","getName","getAvatar","click","exitLogin","appBar","router","icon","components_appBar","$event","stopPropagation","toggle","mousewheel","preventDefault","fold","item","App","appBar_normalizeComponent","bar","selectortype_template_index_0_src_App","toggleBar","src_App","App_normalizeComponent","axios_default","defaults","baseURL","prototype","fullscreen","lock","lib_pagination_default","lib_select_default","lib_option_default","config","productionTip","el","components","template","userTopics","list","pages_userTopics","topicNum","topic","topicItem","index","topicList","length","userId","sendList","getMore","params","components_appPrompt","appLogin","focus","trim","post","userInfo","_this2","pages_appLogin","directives","rawName","value","expression","type","placeholder","domProps","keyup","_k","keyCode","input","composing","getDefaultToken","recent_topics","load","num","pages_appUser","appUser","window","scroll","w","v","timer","components_appUtils","top","edit","time","format","split","join","minutes","Date","hours","days","weeks","months","years","Math","floor","crt","good","error","response","error_msg","d","appMessage","has_read_messages","mes","_this3","_mesList$","pages_appMessage","mesList","mark-not","disabled","markAll","changeContent","reply","nativeOn","markOne","mesType","innerHTML","background","layout","current-page","crtPage","total","update:currentPage","$set","current-change","changePage","components_appHeader","appPublish","String","Number","Boolean","components_appPublish","small","sub","btnText","topicContent","pages_topicContent","isAuthor","author_id","cancel","is_collect","changeCollect","src_pages_topicContent","topicComment","pop","replyContent","pages_topicComment","dealIink","ups","isUps","at","subReply","src_pages_topicComment","topicComment_normalizeComponent","topicId","url","getData","pages_appTopic","reget","finish","appTopic_Component","appTopic_normalizeComponent","appTopic","label","pages_newTopic","for","size","model","callback","$$v","addArticle","newTopic","module","exports"],"mappings":"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","file":"static/js/app.290b9cc0ff66405d81a5.js","sourcesContent":["<template>\r\n<!-- 主页文章列表 -->\r\n<div>\r\n  <app-header :title=\"title[crtTag]\"></app-header>\r\n  <ul class=\"m-list\">\r\n    <li class=\"article\" v-for=\"article of articleList\" :key=\"article.id\">\r\n      <!-- 文章标题 -->\r\n      <h3 class=\"title ellipsis\">\r\n        <router-link\r\n          :to=\"`/topic/${article.id}`\"\r\n          :class=\"getTag(article, crtTag)\"\r\n          :title=\"article.title\">\r\n          {{ article.title }}</router-link>\r\n      </h3>\r\n      <!-- 文章信息 -->\r\n      <div class=\"info\">\r\n        <!-- 文章基础信息 -->\r\n        <router-link\r\n          class=\"basic\"\r\n          :to=\"`/user/${article.author.loginname}`\">\r\n          <!-- 用户头像 -->\r\n          <img\r\n            :src=\"article.author.avatar_url\"\r\n            :title=\"article.author.loginname\">\r\n          <!-- 文章作者、发表时间 -->\r\n          <p class=\"author\">\r\n            {{ article.author.loginname }}<br/>\r\n            {{ getTime(article.create_at) }}\r\n          </p>\r\n        </router-link>\r\n        <!-- 其他信息：文章回复数 / 访问数， 上次访问时间 -->\r\n        <div class=\"other\">\r\n          <span class=\"reply\">{{ article.reply_count }}</span>&nbsp;/\r\n          <span class=\"visit\">{{ article.visit_count }}</span><br>\r\n          <span class=\"last-reply\">{{getTime(article.last_reply_at)}}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n    <infinite-loading\r\n      v-if=\"articleList.length\"\r\n      @infinite=\"getList\"></infinite-loading>\r\n  </ul>\r\n  <app-utils></app-utils>\r\n  <app-prompt\r\n    :show=\"prompt\"\r\n    :text=\"promptText\"\r\n    @close=\"hide\"></app-prompt>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { Loading } from 'element-ui';\r\nimport InfiniteLoading from 'vue-infinite-loading';\r\nimport appHeader from '../components/appHeader';\r\nimport appUtils from '../components/appUtils';\r\nimport appPrompt from '../components/appPrompt';\r\nimport { getTime, getTag, error } from '../assets/utils';\r\n\r\nexport default {\r\n  name: 'appList',\r\n  data() {\r\n    return {\r\n      articleList: [],\r\n      page: 1,\r\n      title: {\r\n        home: '首页',\r\n        good: '精华',\r\n        ask: '问答',\r\n        share: '分享',\r\n        job: '招聘',\r\n      },\r\n      lastTag: 'home',\r\n      crtTag: 'home',\r\n      send: 'finish',\r\n      prompt: false,\r\n      promptText: '',\r\n    };\r\n  },\r\n  components: {\r\n    appHeader,\r\n    appUtils,\r\n    appPrompt,\r\n    InfiniteLoading,\r\n  },\r\n  created() {\r\n    // 获取到当前导航信息\r\n    const tab = this.$route.query.tab;\r\n    this.lastTag = tab || 'home';\r\n    this.crtTag = this.lastTag;\r\n    this.getList(null, Loading.service(this.$loadConfig));\r\n  },\r\n  methods: {\r\n    hide() {\r\n      this.prompt = false;\r\n    },\r\n    // $state为vue-infinite-loading插件参数\r\n    getList($state, load) {\r\n      // 保证向下滚动获取到数据前不会再发送请求，除非请求成功\r\n      if (this.send === 'loading') return;\r\n      this.send = 'loading';\r\n\r\n      // 导航切换时重置参数\r\n      if (this.lastTag !== this.crtTag) {\r\n        this.page = 1;\r\n        this.lastTag = this.crtTag;\r\n        // 清空文章列表\r\n        this.articleList.splice(0);\r\n      }\r\n      const tab = this.crtTag === 'home' ? '' : `&tab=${this.crtTag}`;\r\n\r\n      // 一次获取20篇文章信息\r\n      this.$http\r\n        .get(`topics?page=${this.page}&limit=20${tab}`)\r\n        .then(res => {\r\n          this.articleList.push(...res.data.data);\r\n          ++this.page;\r\n          this.send = 'finish';\r\n          if (this.page > 2) $state.loaded();\r\n          if (load) load.close();\r\n        })\r\n        .catch(err => {\r\n          this.send = 'finish';\r\n          error(err, this);\r\n        });\r\n    },\r\n    getTime,\r\n    getTag,\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    this.crtTag = to.query.tab || 'home';\r\n    this.lastTag = from.query.tab || 'home';\r\n\r\n    // this.crtTag, this.lastTag均为home时不调用\r\n    if (this.crtTag !== this.lastTag) {\r\n      this.getList(null, Loading.service(this.$loadConfig));\r\n    }\r\n    next();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.m-list {\r\n  position: relative;\r\n  width: 100%;\r\n  .article {\r\n    padding: 10px 20px;\r\n    border-bottom: 1px solid #ccc;\r\n    height: 90px;\r\n  }\r\n  .title {\r\n    font: bold 16px/24px $ff;\r\n    a {\r\n      @include tag;\r\n      &::before {\r\n        width: 40px;\r\n        @include fl(12px, 20px);\r\n        display: inline-block;\r\n        margin: 2px 5px 2px 0;\r\n        text-align: center;\r\n        color: #fff;\r\n        border-radius: 3px;\r\n      }\r\n      &:hover {\r\n        text-decoration: underline;\r\n        color: $re;\r\n      }\r\n    }\r\n  }\r\n  .info {\r\n    display: flex;\r\n    height: 46px;\r\n    padding-top: 6px;\r\n  }\r\n  .basic {\r\n    display: flex;\r\n    height: 40px;\r\n    img {\r\n      width: 40px;\r\n      border-radius: 50%;\r\n    }\r\n    .author {\r\n      margin-left: 10px;\r\n      line-height: 20px;\r\n      @include fc(12px, #616161);\r\n    }\r\n  }\r\n  .other {\r\n    @include fl(12px, 20px);\r\n    flex-grow: 1;\r\n    text-align: right;\r\n    .reply {\r\n      font-weight: bold;\r\n      color: $re;\r\n    }\r\n    .visit {\r\n      color: #333;\r\n    }\r\n    .last-reply {\r\n      color: #616161;\r\n    }\r\n  }\r\n}\r\n@media all and (max-width: 600px) {\r\n  .m-list {\r\n    .item {\r\n      padding: 10px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/appList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('app-header',{attrs:{\"title\":_vm.title[_vm.crtTag]}}),_vm._v(\" \"),_c('ul',{staticClass:\"m-list\"},[_vm._l((_vm.articleList),function(article){return _c('li',{key:article.id,staticClass:\"article\"},[_c('h3',{staticClass:\"title ellipsis\"},[_c('router-link',{class:_vm.getTag(article, _vm.crtTag),attrs:{\"to\":(\"/topic/\" + (article.id)),\"title\":article.title}},[_vm._v(\"\\r\\n          \"+_vm._s(article.title))])],1),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('router-link',{staticClass:\"basic\",attrs:{\"to\":(\"/user/\" + (article.author.loginname))}},[_c('img',{attrs:{\"src\":article.author.avatar_url,\"title\":article.author.loginname}}),_vm._v(\" \"),_c('p',{staticClass:\"author\"},[_vm._v(\"\\r\\n            \"+_vm._s(article.author.loginname)),_c('br'),_vm._v(\"\\r\\n            \"+_vm._s(_vm.getTime(article.create_at))+\"\\r\\n          \")])]),_vm._v(\" \"),_c('div',{staticClass:\"other\"},[_c('span',{staticClass:\"reply\"},[_vm._v(_vm._s(article.reply_count))]),_vm._v(\" /\\r\\n          \"),_c('span',{staticClass:\"visit\"},[_vm._v(_vm._s(article.visit_count))]),_c('br'),_vm._v(\" \"),_c('span',{staticClass:\"last-reply\"},[_vm._v(_vm._s(_vm.getTime(article.last_reply_at)))])])],1)])}),_vm._v(\" \"),(_vm.articleList.length)?_c('infinite-loading',{on:{\"infinite\":_vm.getList}}):_vm._e()],2),_vm._v(\" \"),_c('app-utils'),_vm._v(\" \"),_c('app-prompt',{attrs:{\"show\":_vm.prompt,\"text\":_vm.promptText},on:{\"close\":_vm.hide}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f9a598ae\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/appList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f9a598ae\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./appList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f9a598ae\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./appList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/appList.vue\n// module id = null\n// module chunks = ","<template>\r\n<!-- 用户面板 -->\r\n<aside class=\"m-userpanel\">\r\n  <h4 class=\"u-desc-title\">个人信息</h4>\r\n  <!-- 用户头像及用户名 -->\r\n  <div class=\"content\">\r\n    <div class=\"basic\">\r\n      <img\r\n        class=\"avatar\"\r\n        :src=\"data.avatar_url\"\r\n        :alt=\"data.loginname\">\r\n      <span class=\"loginname\">{{ data.loginname }}</span>\r\n    </div>\r\n    <!-- github地址、积分、注册时间 -->\r\n    <div class=\"other\">\r\n      <span class=\"github\">\r\n        <a\r\n          v-if=\"data.githubUsername\"\r\n          target=\"blank\"\r\n          :href=\"`https://github.com/${data.githubUsername}`\">\r\n          <img src=\"../assets/img/github.svg\" alt=\"github\">@{{ data.githubUsername }}\r\n        </a>\r\n      </span>\r\n      <span class=\"score\">积分：<span>{{ data.score }}</span></span>\r\n      <span class=\"collect\"><span>{{ count }}</span> 个话题收藏</span>\r\n      <span>注册时间：</span>\r\n      <span class=\"time\">{{getTime(data.create_at, true)}}</span>\r\n    </div>\r\n  </div>\r\n</aside>\r\n</template>\r\n<script>\r\nimport { getTime } from '../assets/utils';\r\n\r\nexport default {\r\n  name: 'userPanel',\r\n  props: ['data', 'count'],\r\n  methods: {\r\n    getTime,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.m-userpanel {\r\n  min-width: 200px;\r\n  .content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: #fff;\r\n    border-radius: 0 0 10px 10px;\r\n    padding: 20px 0;\r\n  }\r\n  .basic,\r\n  .other {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n  .other {\r\n    font: bold 14px/24px $ff;\r\n  }\r\n  .avatar {\r\n    width: 100px;\r\n    border-radius: 50%;\r\n  }\r\n  .loginname {\r\n    font: bold 16px/30px $ff;\r\n  }\r\n  .github {\r\n    a {\r\n      color: #4fc3f7;\r\n    }\r\n    img {\r\n      width: 18px;\r\n      vertical-align: text-bottom;\r\n    }\r\n  }\r\n  .score span,\r\n  .collect span {\r\n    color: $re;\r\n  }\r\n}\r\n@media all and (max-width: 600px) {\r\n  .m-userpanel {\r\n    width: 100%;\r\n    min-width: 250px;\r\n    .content {\r\n      padding: 10px;\r\n      border-radius: 0;\r\n      flex-direction: row;\r\n      background: #fafafa;\r\n      box-shadow: $bs;\r\n    }\r\n    > h4 {\r\n      display: none;\r\n    }\r\n    .basic {\r\n      width: 40%;\r\n      .avatar {\r\n        width: 80px;\r\n        margin: 0;\r\n      }\r\n    }\r\n    .other {\r\n      align-items: flex-start;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/userPanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"m-userpanel\"},[_c('h4',{staticClass:\"u-desc-title\"},[_vm._v(\"个人信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"basic\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.data.avatar_url,\"alt\":_vm.data.loginname}}),_vm._v(\" \"),_c('span',{staticClass:\"loginname\"},[_vm._v(_vm._s(_vm.data.loginname))])]),_vm._v(\" \"),_c('div',{staticClass:\"other\"},[_c('span',{staticClass:\"github\"},[(_vm.data.githubUsername)?_c('a',{attrs:{\"target\":\"blank\",\"href\":(\"https://github.com/\" + (_vm.data.githubUsername))}},[_c('img',{attrs:{\"src\":require(\"../assets/img/github.svg\"),\"alt\":\"github\"}}),_vm._v(\"@\"+_vm._s(_vm.data.githubUsername)+\"\\r\\n        \")]):_vm._e()]),_vm._v(\" \"),_c('span',{staticClass:\"score\"},[_vm._v(\"积分：\"),_c('span',[_vm._v(_vm._s(_vm.data.score))])]),_vm._v(\" \"),_c('span',{staticClass:\"collect\"},[_c('span',[_vm._v(_vm._s(_vm.count))]),_vm._v(\" 个话题收藏\")]),_vm._v(\" \"),_c('span',[_vm._v(\"注册时间：\")]),_vm._v(\" \"),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.getTime(_vm.data.create_at, true)))])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c0422e50\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/userPanel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c0422e50\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userPanel.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./userPanel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./userPanel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c0422e50\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./userPanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/userPanel.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport appList from '@/pages/appList';\r\nimport appTopic from '@/pages/appTopic';\r\nimport appUser from '@/pages/appUser';\r\nimport appLogin from '@/pages/appLogin';\r\nimport newTopic from '@/pages/newTopic';\r\nimport about from '@/pages/about';\r\nimport appMessage from '@/pages/appMessage';\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n  mode: 'history',\r\n  base: __dirname,\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'appList',\r\n      component: appList,\r\n      alias: '/?tab=home',\r\n    },\r\n    {\r\n      path: '/topic/:topicId',\r\n      name: 'appTopic',\r\n      component: appTopic,\r\n      props: true,\r\n    },\r\n    {\r\n      path: '/login',\r\n      name: 'appLogin',\r\n      component: appLogin,\r\n    },\r\n    {\r\n      path: '/user/:userId',\r\n      name: 'appUser',\r\n      component: appUser,\r\n      props: true,\r\n      children: [\r\n        {\r\n          path: ':list',\r\n          name: 'appUserList',\r\n          component: appUser,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      path: '/my/messages',\r\n      name: 'appMessage',\r\n      component: appMessage,\r\n    },\r\n    {\r\n      path: '/create',\r\n      name: 'newTopic',\r\n      component: newTopic,\r\n    },\r\n    {\r\n      path: '/edit',\r\n      name: 'editTopic',\r\n      component: newTopic,\r\n    },\r\n    {\r\n      path: '/about',\r\n      name: 'about',\r\n      component: about,\r\n    },\r\n    {\r\n      path: '*',\r\n      component: appList,\r\n    },\r\n  ],\r\n  scrollBehavior(to, from, savedPosition) {\r\n    const position = {};\r\n    if (to.hash && to.path !== from.path) {\r\n      position.selector = to.hash;\r\n      return new Promise(resolve => {\r\n        setTimeout(() => {\r\n          resolve(position);\r\n        }, 1500);\r\n      });\r\n    }\r\n    if (savedPosition) {\r\n      return savedPosition;\r\n    }\r\n    if (to.matched.some(m => m.meta.scrollToTop)) {\r\n      position.x = 0;\r\n      position.y = 0;\r\n      return position;\r\n    }\r\n  },\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/router.js","<template>\r\n<!-- 关于项目页面 -->\r\n<div class=\"m-about\">\r\n  <app-header title=\"关于\"></app-header>\r\n  <dl>\r\n    <dt>关于项目</dt>\r\n    <dd>该项目最初来源于@shinygang的<a href=\"https://github.com/shinygang/Vue-cnodejs\" target=\"blank\">Vue-cnodejs</a>，感谢cnodejs社区提供的API。项目依赖了vue2，vue-router，vuex，axios以及一个vue-infinite-loading无限加载组件、element-ui的分页、选择框、加载组件。使用了所有的API，使用提供的API能实现的功能均已实现。</dd>\r\n    <dt>源码地址</dt>\r\n    <dd>\r\n      <a href=\"https://github.com/duxingyu/vue2-cnodejs\" target=\"blank\">\r\n        <img src=\"../assets/img/github.svg\" alt=\"github\">\r\n        <em>https://github.com/duxingyu/vue2-cnodejs</em>\r\n      </a>。\r\n    </dd>\r\n    <dt>使用须知</dt>\r\n    <dd>1. 如果没有accesstoken，根据登录页下方的提示直接进入。</dd>\r\n    <dd>2. 临时用户只能在客户端测试版块发表话题。</dd>\r\n    <dd>3. 用户accesstoken使用localStorage存储，临时用户不进行存储。</dd>\r\n    <dd>4. 体验完整功能：<a href=\"https://cnodejs.org\">cnodejs社区原地址</a></dd>\r\n    <dt>项目不足</dt>\r\n    <dd>1. 社区提供的API有限，一部分功能无法实现。</dd>\r\n    <dd>2. 简单地做了响应式处理，没有针对移动端进行处理。</dd>\r\n    <dd>3. 当用户在话题中评论、回复后返回的数据不包含格式化后的内容(markdown => html)，选择了重新获取完整数据插入到最后，使用相应的js可能更好。</dd>\r\n    <dd>4. 编辑话题时重新请求了未渲染的话题内容, 性能有影响。</dd>\r\n    <dd>5. 路由跳转后的滚动行为没有处理好，如滚动到锚点。</dd>\r\n  </dl>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport appHeader from '../components/appHeader';\r\n\r\nexport default {\r\n  name: 'about',\r\n  components: {\r\n    appHeader,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.m-about {\r\n  padding: 20px;\r\n  dl {\r\n    text-align: justify;\r\n    a {\r\n      color: $re;\r\n      font-weight: bold;\r\n      text-decoration: underline;\r\n    }\r\n    dt {\r\n      font: bold 20px/3 $ff;\r\n    }\r\n    dd {\r\n      @include fl(16px, 24px);\r\n    }\r\n    img {\r\n      width: 20px;\r\n      vertical-align: text-bottom;\r\n    }\r\n  }\r\n}\r\n@media all and (max-width: 600px) {\r\n  .m-about {\r\n    padding: 10px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/about.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-about\"},[_c('app-header',{attrs:{\"title\":\"关于\"}}),_vm._v(\" \"),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dl',[_c('dt',[_vm._v(\"关于项目\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"该项目最初来源于@shinygang的\"),_c('a',{attrs:{\"href\":\"https://github.com/shinygang/Vue-cnodejs\",\"target\":\"blank\"}},[_vm._v(\"Vue-cnodejs\")]),_vm._v(\"，感谢cnodejs社区提供的API。项目依赖了vue2，vue-router，vuex，axios以及一个vue-infinite-loading无限加载组件、element-ui的分页、选择框、加载组件。使用了所有的API，使用提供的API能实现的功能均已实现。\")]),_vm._v(\" \"),_c('dt',[_vm._v(\"源码地址\")]),_vm._v(\" \"),_c('dd',[_c('a',{attrs:{\"href\":\"https://github.com/duxingyu/vue2-cnodejs\",\"target\":\"blank\"}},[_c('img',{attrs:{\"src\":require(\"../assets/img/github.svg\"),\"alt\":\"github\"}}),_vm._v(\" \"),_c('em',[_vm._v(\"https://github.com/duxingyu/vue2-cnodejs\")])]),_vm._v(\"。\\r\\n    \")]),_vm._v(\" \"),_c('dt',[_vm._v(\"使用须知\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"1. 如果没有accesstoken，根据登录页下方的提示直接进入。\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"2. 临时用户只能在客户端测试版块发表话题。\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"3. 用户accesstoken使用localStorage存储，临时用户不进行存储。\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"4. 体验完整功能：\"),_c('a',{attrs:{\"href\":\"https://cnodejs.org\"}},[_vm._v(\"cnodejs社区原地址\")])]),_vm._v(\" \"),_c('dt',[_vm._v(\"项目不足\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"1. 社区提供的API有限，一部分功能无法实现。\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"2. 简单地做了响应式处理，没有针对移动端进行处理。\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"3. 当用户在话题中评论、回复后返回的数据不包含格式化后的内容(markdown => html)，选择了重新获取完整数据插入到最后，使用相应的js可能更好。\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"4. 编辑话题时重新请求了未渲染的话题内容, 性能有影响。\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"5. 路由跳转后的滚动行为没有处理好，如滚动到锚点。\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4354ab45\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/about.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4354ab45\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./about.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./about.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./about.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4354ab45\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./about.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/about.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nVue.use(Vuex);\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    // 登录用户基本信息\r\n    user: {\r\n      id: '',\r\n      loginname: '',\r\n      avatar: '',\r\n      token: null,\r\n    },\r\n    // 用户消息数\r\n    mesCount: 0,\r\n    // 编辑话题信息\r\n    topicMes: {\r\n      accesstoken: '',\r\n      topic_id: '',\r\n      title: '',\r\n      tab: '',\r\n      content: '',\r\n    },\r\n    // 临时用户accesstoken\r\n    defaultToken: 'aabc3938-ad2f-40c4-aa7c-d4f36181b62a',\r\n  },\r\n  mutations: {\r\n    setUser(state, data) {\r\n      Object.keys(data).forEach(val => {\r\n        state.user[val] = data[val];\r\n      });\r\n    },\r\n    setCount(state, data) {\r\n      state.mesCount += data;\r\n    },\r\n    editTopic(state, data) {\r\n      Object.keys(data).forEach(val => {\r\n        state.topicMes[val] = data[val];\r\n      });\r\n    },\r\n  },\r\n});\r\n\r\nexport default {\r\n  store,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\r\n<!-- 侧边导航栏上方用户简要信息组件 -->\r\n<div class=\"m-nav-log\">\r\n  <!-- 登录状态 -->\r\n  <div class=\"in\" v-if=\"getName\">\r\n    <!-- 用户头像，点击后进入用户页 -->\r\n    <div class=\"head\">\r\n      <router-link :to=\"`/user/${getName}`\">\r\n        <img :src=\"getAvatar\" :alt=\"getName\">\r\n      </router-link>\r\n      <!-- 用户名 -->\r\n      <p class=\"name\">{{getName}}</p>\r\n    </div>\r\n    <!-- 退出登录按钮 -->\r\n    <div class=\"exit\" @click=\"exitLogin\">\r\n      <i class=\"material-icons\">exit_to_app</i>\r\n    </div>\r\n  </div>\r\n  <!-- 未登录状态，点击进入登录页 -->\r\n  <div class=\"out\" v-else>\r\n    <router-link to=\"/login\">\r\n      <i class=\"material-icons\">account_circle</i>\r\n    </router-link>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'appSelf',\r\n  computed: {\r\n    // 获取用户名\r\n    getName() {\r\n      return this.$store.store.state.user.loginname;\r\n    },\r\n    // 获取用户头像\r\n    getAvatar() {\r\n      return this.$store.store.state.user.avatar;\r\n    },\r\n  },\r\n  methods: {\r\n    // 退出登录，如果localStorage存在，则删除数据\r\n    exitLogin() {\r\n      this.$store.store.commit('setUser', {\r\n        id: '',\r\n        loginname: '',\r\n        avatar: '',\r\n        token: null,\r\n      });\r\n\r\n      const storage = window.localStorage;\r\n      if (storage.user) {\r\n        storage.removeItem('user');\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.m-nav-log {\r\n  position: relative;\r\n  @include wh(200px, 140px);\r\n  background: $re;\r\n  .head,\r\n  .out {\r\n    @include wh(100px);\r\n    padding: 20px 0 0 20px;\r\n  }\r\n  .head img {\r\n    width: 80px;\r\n    border-radius: 50%;\r\n  }\r\n  .name {\r\n    color: #fff;\r\n    @include fl(16px, 30px);\r\n  }\r\n  .exit {\r\n    position: absolute;\r\n    top: 20px;\r\n    right: 20px;\r\n    cursor: pointer;\r\n    i {\r\n      @include fc(30px, #fff);\r\n    }\r\n  }\r\n  .out i {\r\n    @include fc(80px, #fff);\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/appSelf.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-nav-log\"},[(_vm.getName)?_c('div',{staticClass:\"in\"},[_c('div',{staticClass:\"head\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + _vm.getName)}},[_c('img',{attrs:{\"src\":_vm.getAvatar,\"alt\":_vm.getName}})]),_vm._v(\" \"),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.getName))])],1),_vm._v(\" \"),_c('div',{staticClass:\"exit\",on:{\"click\":_vm.exitLogin}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"exit_to_app\")])])]):_c('div',{staticClass:\"out\"},[_c('router-link',{attrs:{\"to\":\"/login\"}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"account_circle\")])])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c2d25fb8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/appSelf.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c2d25fb8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./appSelf.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appSelf.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appSelf.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c2d25fb8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./appSelf.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/appSelf.vue\n// module id = null\n// module chunks = ","<template>\r\n<!-- 侧边导航栏组件，默认关闭 -->\r\n<div class=\"g-bar\">\r\n  <!-- 左上角切换按钮 -->\r\n  <div class=\"menu\" @click.stop=\"toggle\">\r\n    <i class=\"material-icons\">menu</i>\r\n  </div>\r\n  <!-- 侧边导航覆盖层 -->\r\n  <div\r\n    class=\"wrap\"\r\n    @click=\"toggle\"\r\n    :class=\"{show: show}\"\r\n    @mousewheel.prevent>\r\n  <nav class=\"m-nav\" :class=\"{fold: show}\">\r\n    <!-- 左上角个人简要信息 -->\r\n    <app-self></app-self>\r\n    <!-- 侧边导航 -->\r\n    <ul class=\"list\">\r\n      <li v-for=\"item of nav\" :key=\"item.text\">\r\n        <router-link :to=\"item.router\">\r\n        <i class=\"material-icons\">{{item.icon}}</i>\r\n        {{ item.text }}\r\n        <span class=\"u-list-count\" v-if=\"(item.icon === 'message') && (count !== 0)\">{{ count }}</span>\r\n        </router-link>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport appSelf from './appSelf';\r\n\r\nexport default {\r\n  name: 'appBar',\r\n  data() {\r\n    return {\r\n      nav: [\r\n        { text: '首页', router: '/?tab=home', icon: 'home' },\r\n        { text: '精华', router: '/?tab=good', icon: 'grade' },\r\n        { text: '分享', router: '/?tab=share', icon: 'share' },\r\n        { text: '问答', router: '/?tab=ask', icon: 'help' },\r\n        { text: '招聘', router: '/?tab=job', icon: 'contact_mail' },\r\n        { text: '消息', router: '/my/messages', icon: 'message' },\r\n        { text: '关于', router: '/about', icon: 'info' },\r\n      ],\r\n    };\r\n  },\r\n  components: {\r\n    appSelf,\r\n  },\r\n  // 侧边栏显示或隐藏\r\n  props: ['show'],\r\n  computed: {\r\n    count() {\r\n      return this.$store.store.state.mesCount;\r\n    },\r\n  },\r\n  methods: {\r\n    toggle() {\r\n      // 点击后隐藏侧边栏\r\n      this.$emit('hide');\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.g-bar {\r\n  position: relative;\r\n  z-index: 4000;\r\n  .menu {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 20;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    @include wh(64px);\r\n    cursor: pointer;\r\n    background: $bl;\r\n    font-size: 32px;\r\n    color: #fff;\r\n  }\r\n  .wrap {\r\n    position: fixed;\r\n    visibility: hidden;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 50;\r\n    @include wh(100%);\r\n    opacity: 0;\r\n    transition: 0.3s;\r\n    background: rgba(0, 0, 0, 0.3);\r\n    &.show {\r\n      opacity: 1;\r\n      visibility: visible;\r\n    }\r\n  }\r\n}\r\n.m-nav {\r\n  position: fixed;\r\n  z-index: 100;\r\n  @include wh(200px, 100%);\r\n  top: 0;\r\n  left: 0;\r\n  background: #fff;\r\n  transition: transform 0.3s;\r\n  transform: translate(-200px, 0);\r\n  box-shadow: 5px 1px 6px rgba(0, 0, 0, 0.117647), 0 1px 4px rgba(0, 0, 0, 0.117647);\r\n  &.fold {\r\n    transform: translate(0, 0);\r\n  }\r\n  li {\r\n    a {\r\n      display: block;\r\n      @include wh(100%, 48px);\r\n      color: $bl;\r\n      font: bold 16px/3 $ff;\r\n      padding-left: 24px;\r\n    }\r\n    i {\r\n      font-size: 20px;\r\n      padding-right: 20px;\r\n      vertical-align: text-bottom;\r\n    }\r\n    &:hover {\r\n      background: $bl;\r\n      a {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/appBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g-bar\"},[_c('div',{staticClass:\"menu\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle($event)}}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"menu\")])]),_vm._v(\" \"),_c('div',{staticClass:\"wrap\",class:{show: _vm.show},on:{\"click\":_vm.toggle,\"mousewheel\":function($event){$event.preventDefault();}}},[_c('nav',{staticClass:\"m-nav\",class:{fold: _vm.show}},[_c('app-self'),_vm._v(\" \"),_c('ul',{staticClass:\"list\"},_vm._l((_vm.nav),function(item){return _c('li',{key:item.text},[_c('router-link',{attrs:{\"to\":item.router}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(_vm._s(item.icon))]),_vm._v(\"\\r\\n        \"+_vm._s(item.text)+\"\\r\\n        \"),((item.icon === 'message') && (_vm.count !== 0))?_c('span',{staticClass:\"u-list-count\"},[_vm._v(_vm._s(_vm.count))]):_vm._e()])],1)}))],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-000c6615\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/appBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-000c6615\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./appBar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-000c6615\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./appBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/appBar.vue\n// module id = null\n// module chunks = ","<template>\n<div id=\"app\" @click=\"toggleBar(true)\">\n  <app-bar :show=\"bar\" @hide=\"toggleBar\"></app-bar>\n  <!--内容区-->\n  <div class=\"g-ct\">\n    <router-view></router-view>\n  </div>\n</div>\n</template>\n\n<script>\nimport appBar from './components/appBar';\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      bar: false,\n    };\n  },\n  created() {\n    // 如果localStorage中存在用户数据则获取\n    const storage = window.localStorage;\n    if (storage && storage.user) {\n      this.$store.store.commit('setUser', JSON.parse(storage.user));\n    }\n  },\n  components: {\n    appBar,\n  },\n  methods: {\n    toggleBar(close) {\n      this.bar = close ? false : !this.bar;\n    },\n  },\n};\n</script>\n\n<style>\n#app {\n  position: relative;\n  min-height: 100vh;\n  min-width: 250px;\n}\n.g-ct {\n  margin-top: 64px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"},on:{\"click\":function($event){_vm.toggleBar(true)}}},[_c('app-bar',{attrs:{\"show\":_vm.bar},on:{\"hide\":_vm.toggleBar}}),_vm._v(\" \"),_c('div',{staticClass:\"g-ct\"},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1cc9d67a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1cc9d67a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1cc9d67a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport axios from 'axios';\r\nimport { Pagination, Select, Option } from 'element-ui';\r\nimport router from './router/router';\r\nimport store from './store/index';\r\nimport App from './App';\r\n\r\n// reset、公共css、markdown样式、element-ui主题色\r\nimport './assets/css/reset.css';\r\nimport './assets/css/common.css';\r\nimport './assets/css/github-markdown.css';\r\nimport './assets/el.scss';\r\n\r\naxios.defaults.baseURL = 'https://cnodejs.org/api/v1/';\r\nVue.prototype.$http = axios;\r\n// element-ui的Loading组件配置\r\nVue.prototype.$loadConfig = {\r\n  target: '#app',\r\n  fullscreen: false,\r\n  lock: true,\r\n};\r\nVue.use(Pagination);\r\nVue.use(Select);\r\nVue.use(Option);\r\n\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  store,\r\n  router,\r\n  components: { App },\r\n  template: '<App/>',\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\r\n<!-- 用户信息 -->\r\n<div class=\"m-usertopics\">\r\n  <!-- 用户参与、创建、收藏的话题-->\r\n  <div v-for=\"(topicItem, index) of (topicNum === 3 ? topic : [topic[topicNum]])\" :key=\"topicItem\">\r\n    <h4 class=\"u-desc-title\">\r\n      {{ topicItem }}\r\n      <span class=\"u-list-count\">{{topicList[index].length}}</span>\r\n      <router-link\r\n        class=\"other\"\r\n        v-if=\"topicNum !== 3\"\r\n        :to=\"`/user/${userId}`\">返回用户主页</router-link>\r\n    </h4>\r\n    <!-- 各项列表 -->\r\n    <ul v-if=\"topicList[index].length\">\r\n      <li v-for=\"item of sendList(topicList[index])\" :key=\"item.id\" class=\"list\">\r\n        <!-- 用户头像，跳转到用户页面 -->\r\n        <router-link :to=\"`/user/${item.author.loginname}`\">\r\n        <img\r\n          class=\"avatar\"\r\n          :src=\"item.author.avatar_url\"\r\n          :title=\"item.author.loginname\"\r\n          :alt=\"item.author.loginname\">\r\n        </router-link>\r\n        <!-- 话题 -->\r\n        <router-link\r\n          :to=\"`/topic/${item.id}`\"\r\n          :title=\"item.title\"\r\n          class=\"title ellipsis\">{{item.title}}</router-link>\r\n        <!-- 上次回复时间 -->\r\n        <span class=\"time\">{{ getTime(item.last_reply_at) }}</span>\r\n      </li>\r\n      <li class=\"more\" v-if=\"getMore(topicList[index])\">\r\n        <router-link :to=\"{ name: 'appUserList', params: { list: index === 1 ? 'topics' : 'collections' }}\">查看更多 &gt;&gt;</router-link>\r\n      </li>\r\n    </ul>\r\n    <p class=\"not\" v-else>无话题</p>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { getTime } from '../assets/utils';\r\n\r\nexport default {\r\n  name: 'userTopics',\r\n  data() {\r\n    return {\r\n      topic: ['最近参与的话题', '最近创建的话题', '我的收藏'],\r\n    };\r\n  },\r\n  props: ['topicNum', 'topicList', 'userId'],\r\n  methods: {\r\n    sendList(list) {\r\n      return this.topicNum === 3 ? list.slice(0, 5) : list;\r\n    },\r\n    // 用户主页只显示5条话题\r\n    getMore(list) {\r\n      return list.length > 5 && this.topicNum === 3;\r\n    },\r\n    getTime,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.m-usertopics {\r\n  min-width: 300px;\r\n  margin-left: 30px;\r\n  flex-grow: 1;\r\n  > div {\r\n    background: #fff;\r\n    margin-bottom: 20px;\r\n    border-radius: 0 0 10px 10px;\r\n    padding-bottom: 20px;\r\n  }\r\n  ul {\r\n    box-shadow: $bs;\r\n  }\r\n  .list {\r\n    display: flex;\r\n    height: 60px;\r\n    padding: 10px;\r\n    border-bottom: 1px solid #ccc;\r\n    .avatar {\r\n      width: 40px;\r\n      margin-right: 20px;\r\n      border-radius: 50%;\r\n    }\r\n    .title {\r\n      color: $bl;\r\n      font: bold 18px/40px SimHei;\r\n      &:hover {\r\n        color: $re;\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n    .time {\r\n      line-height: 40px;\r\n      color: #333;\r\n      flex-grow: 1;\r\n      text-align: right;\r\n      min-width: 54px;\r\n    }\r\n  }\r\n  .more {\r\n    padding-left: 10px;\r\n    @include fl(14px, 40px);\r\n    margin-bottom: -20px;\r\n    a {\r\n      color: $re;\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n  .not {\r\n    padding: 20px 0 0 20px;\r\n    font-size: 16px;\r\n  }\r\n}\r\n\r\n@media all and (max-width: 600px) {\r\n  .m-usertopics {\r\n    margin: 0;\r\n    width: 100%;\r\n    > div {\r\n      border-width: 0;\r\n      border-radius: 0;\r\n      margin: 0;\r\n    }\r\n    .list {\r\n      padding: 5px 10px;\r\n      height: 50px;\r\n      .avatar,\r\n      .time {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/userTopics.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-usertopics\"},_vm._l(((_vm.topicNum === 3 ? _vm.topic : [_vm.topic[_vm.topicNum]])),function(topicItem,index){return _c('div',{key:topicItem},[_c('h4',{staticClass:\"u-desc-title\"},[_vm._v(\"\\r\\n      \"+_vm._s(topicItem)+\"\\r\\n      \"),_c('span',{staticClass:\"u-list-count\"},[_vm._v(_vm._s(_vm.topicList[index].length))]),_vm._v(\" \"),(_vm.topicNum !== 3)?_c('router-link',{staticClass:\"other\",attrs:{\"to\":(\"/user/\" + _vm.userId)}},[_vm._v(\"返回用户主页\")]):_vm._e()],1),_vm._v(\" \"),(_vm.topicList[index].length)?_c('ul',[_vm._l((_vm.sendList(_vm.topicList[index])),function(item){return _c('li',{key:item.id,staticClass:\"list\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + (item.author.loginname))}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.author.avatar_url,\"title\":item.author.loginname,\"alt\":item.author.loginname}})]),_vm._v(\" \"),_c('router-link',{staticClass:\"title ellipsis\",attrs:{\"to\":(\"/topic/\" + (item.id)),\"title\":item.title}},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.getTime(item.last_reply_at)))])],1)}),_vm._v(\" \"),(_vm.getMore(_vm.topicList[index]))?_c('li',{staticClass:\"more\"},[_c('router-link',{attrs:{\"to\":{ name: 'appUserList', params: { list: index === 1 ? 'topics' : 'collections' }}}},[_vm._v(\"查看更多 >>\")])],1):_vm._e()],2):_c('p',{staticClass:\"not\"},[_vm._v(\"无话题\")])])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57c63701\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/userTopics.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-57c63701\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userTopics.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./userTopics.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./userTopics.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57c63701\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./userTopics.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/userTopics.vue\n// module id = null\n// module chunks = ","<template>\r\n<!-- 顶栏下方错误提示组件 -->\r\n<div class=\"u-prompt\" :class=\"{show: show}\">\r\n  <div class=\"prompt-ct\" :class=\"{show: show}\">\r\n    <i class=\"material-icons\">error</i>\r\n    {{ text }}\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n// 思考怎么样改变父组件的show\r\nexport default {\r\n  name: 'appPrompt',\r\n  // 错误提示文本，显示\r\n  props: ['text', 'show'],\r\n  watch: {\r\n    // 1.5s后错误提示消失\r\n    show() {\r\n      if (this.show) {\r\n        setTimeout(() => {\r\n          this.$emit('close');\r\n        }, 1500);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n$h: 40px;\r\n\r\n.u-prompt {\r\n  position: fixed;\r\n  top: 24px;\r\n  left: 0;\r\n  z-index: 20;\r\n  display: flex;\r\n  justify-content: center;\r\n  @include wh(100%, $h);\r\n  visibility: hidden;\r\n  .prompt-ct {\r\n    padding: 0 $h/2;\r\n    height: $h;\r\n    border-radius: $h/2;\r\n    background: rgba(255, 73, 73, 0.8);\r\n    font: 14px /#{$h} $ff;\r\n    color: #fff;\r\n    transform: translate(0, 0);\r\n    transition: 0.3s;\r\n    i {\r\n      font-size: 20px;\r\n      vertical-align: text-bottom;\r\n    }\r\n  }\r\n  &.show {\r\n    visibility: visible;\r\n    .prompt-ct {\r\n      transform: translate(0, 40px);\r\n      transition: 0.3s;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/appPrompt.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"u-prompt\",class:{show: _vm.show}},[_c('div',{staticClass:\"prompt-ct\",class:{show: _vm.show}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"error\")]),_vm._v(\"\\r\\n    \"+_vm._s(_vm.text)+\"\\r\\n  \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3083764e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/appPrompt.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3083764e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./appPrompt.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appPrompt.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appPrompt.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3083764e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./appPrompt.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/appPrompt.vue\n// module id = null\n// module chunks = ","<template>\r\n<!-- 登录页 -->\r\n<div class=\"m-login\">\r\n  <app-header title=\"登录\"></app-header>\r\n  <input\r\n    type=\"text\"\r\n    v-focus\r\n    placeholder=\"请输入36位 accesstoken\"\r\n    @keyup.enter=\"post(token)\"\r\n    v-model=\"token\">\r\n  <button type=\"button\" class=\"submit\" @click=\"post(token)\">提交</button>\r\n  <p class=\"tip\">\r\n    <span>提示：</span>\r\n    如果没有accesstoken，可以点击\r\n    <a @click.prevent=\"post(getDefaultToken)\">这里</a>\r\n    进行登录。\r\n  </p>\r\n  <app-prompt\r\n    :show=\"prompt\"\r\n    :text=\"promptText\"\r\n    @close=\"hide\"></app-prompt>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { error } from '../assets/utils';\r\nimport appHeader from '../components/appHeader';\r\nimport appPrompt from '../components/appPrompt';\r\n\r\nexport default {\r\n  name: 'loginPage',\r\n  data() {\r\n    return {\r\n      token: '',\r\n      prompt: false,\r\n      promptText: '',\r\n    };\r\n  },\r\n  components: {\r\n    appHeader,\r\n    appPrompt,\r\n  },\r\n  created() {\r\n    // 当用户已经登录，跳转到用户信息页面\r\n    const user = this.$store.store.state.user;\r\n    if (user.token) {\r\n      this.$router.replace(`/user/${user.loginname}`);\r\n    }\r\n  },\r\n  // 自动获取焦点，autofocus不清楚为什么不管用\r\n  directives: {\r\n    focus: {\r\n      inserted(el) {\r\n        el.focus();\r\n      },\r\n    },\r\n  },\r\n  computed: {\r\n    getDefaultToken() {\r\n      return this.$store.store.state.defaultToken;\r\n    },\r\n  },\r\n  methods: {\r\n    hide() {\r\n      this.prompt = false;\r\n    },\r\n    post(accesstoken) {\r\n      const token = accesstoken.trim();\r\n      if (token.length !== 36) {\r\n        this.promptText = '请输入36位 accesstoken';\r\n        this.prompt = true;\r\n        return;\r\n      }\r\n      this.$http\r\n        .post('accesstoken', { accesstoken: token })\r\n        .then(res => {\r\n          const data = res.data;\r\n          const user = {\r\n            token,\r\n            loginname: data.loginname,\r\n            id: data.id,\r\n            avatar: data.avatar_url,\r\n          };\r\n          this.getMesCount(token);\r\n          this.setUser(user);\r\n        })\r\n        .catch(err => error(err, this));\r\n    },\r\n    setUser(userInfo) {\r\n      this.$store.store.commit('setUser', userInfo);\r\n\r\n      // 非临时用户使用localStorage存储\r\n      const storage = window.localStorage;\r\n      if (storage && (userInfo.token !== this.getDefaultToken)) {\r\n        storage.setItem('user', JSON.stringify(userInfo));\r\n      }\r\n      this.$router.go(-1);\r\n    },\r\n    getMesCount(token) {\r\n      this.$http\r\n        .get(`message/count?accesstoken=${token}`)\r\n        .then(res => {\r\n          this.$store.store.commit('setCount', res.data.data);\r\n        })\r\n        .catch(err => error(err, this));\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.m-login {\r\n  margin: 84px 20px;\r\n  input {\r\n    border: none;\r\n    width: 100%;\r\n    @include fl(18px, 50px);\r\n    border-bottom: 2px solid $re;\r\n    margin-bottom: 30px;\r\n    caret-color: $re;\r\n  }\r\n  .submit {\r\n    @include wh(100%, 40px);\r\n    background: $re;\r\n    color: #fff;\r\n    border: none;\r\n    border-right: 2px solid #d32f2f;\r\n    border-bottom: 3px solid #d32f2f;\r\n    border-radius: 5px;\r\n    @include fl(20px, 2);\r\n    letter-spacing: 8px;\r\n    &:hover {\r\n      opacity: 0.9;\r\n    }\r\n  }\r\n  .tip {\r\n    @include fl(16px, 24px);\r\n    margin-top: 20px;\r\n    a {\r\n      color: $re;\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n    span,\r\n    a {\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n@media all and (max-width: 600px) {\r\n  .m-login {\r\n    margin: 10px;\r\n    input {\r\n      margin-bottom: 20px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/appLogin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-login\"},[_c('app-header',{attrs:{\"title\":\"登录\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"focus\",rawName:\"v-focus\"},{name:\"model\",rawName:\"v-model\",value:(_vm.token),expression:\"token\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入36位 accesstoken\"},domProps:{\"value\":(_vm.token)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.post(_vm.token)},\"input\":function($event){if($event.target.composing){ return; }_vm.token=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"submit\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.post(_vm.token)}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('p',{staticClass:\"tip\"},[_c('span',[_vm._v(\"提示：\")]),_vm._v(\"\\r\\n    如果没有accesstoken，可以点击\\r\\n    \"),_c('a',{on:{\"click\":function($event){$event.preventDefault();_vm.post(_vm.getDefaultToken)}}},[_vm._v(\"这里\")]),_vm._v(\"\\r\\n    进行登录。\\r\\n  \")]),_vm._v(\" \"),_c('app-prompt',{attrs:{\"show\":_vm.prompt,\"text\":_vm.promptText},on:{\"close\":_vm.hide}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9228d1ae\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/appLogin.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9228d1ae\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./appLogin.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appLogin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appLogin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9228d1ae\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./appLogin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/appLogin.vue\n// module id = null\n// module chunks = ","<template>\r\n<!-- 用户页面 -->\r\n<div class=\"m-user\">\r\n  <app-header :title=\"`${userId} 的主页`\"></app-header>\r\n  <!-- 获取到数据才可以加载 -->\r\n  <div v-if=\"finish\" class=\"wrap\">\r\n    <user-panel :data=\"userInfo\" :count=\"topicList[2].length\"></user-panel>\r\n    <user-topics\r\n      :topicNum=\"num\"\r\n      :userId=\"userId\"\r\n      :topicList=\"sendList(topicList)\"></user-topics>\r\n  </div>\r\n  <app-utils></app-utils>\r\n  <app-prompt\r\n    :show=\"prompt\"\r\n    :text=\"promptText\"\r\n    @close=\"hide\"></app-prompt>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { Loading } from 'element-ui';\r\nimport { error } from '../assets/utils';\r\nimport appUtils from '../components/appUtils';\r\nimport appHeader from '../components/appHeader';\r\nimport appPrompt from '../components/appPrompt';\r\nimport userPanel from './userPanel';\r\nimport userTopics from './userTopics';\r\n\r\nexport default {\r\n  name: 'appUser',\r\n  data() {\r\n    return {\r\n      userInfo: {},\r\n      finish: false,\r\n      topicList: [],\r\n      prompt: false,\r\n      promptText: '',\r\n      // num为3加载所有数据、为1加载全部创建话题、为2加载全部收藏\r\n      num: 3,\r\n    };\r\n  },\r\n  props: ['userId'],\r\n  components: {\r\n    appUtils,\r\n    appPrompt,\r\n    appHeader,\r\n    userPanel,\r\n    userTopics,\r\n  },\r\n  created() {\r\n    const list = this.$route.params.list;\r\n    // 面对直接输入url的情况\r\n    if (list) {\r\n      this.num = list === 'topics' ? 1 : 2;\r\n    }\r\n    this.getTopic(this.userId, Loading.service(this.$loadConfig));\r\n  },\r\n  methods: {\r\n    hide() {\r\n      this.prompt = false;\r\n    },\r\n    // 获取用户信息、参与话题、创建话题列表\r\n    getTopic(userId, load) {\r\n      this.$http\r\n        .get(`user/${userId}`)\r\n        .then(res => {\r\n          this.userInfo = res.data.data;\r\n          // 使用topicList方便调用列表数据\r\n          this.topicList.splice(0);\r\n          this.topicList.push(this.userInfo.recent_replies, this.userInfo.recent_topics);\r\n          this.getCollect(load);\r\n        })\r\n        .catch(err => error(err, this));\r\n    },\r\n    // 获取用户收藏列表\r\n    getCollect(load) {\r\n      this.$http\r\n        .get(`topic_collect/${this.userInfo.loginname}`)\r\n        .then(res => {\r\n          this.topicList.push(res.data.data);\r\n          this.finish = true;\r\n          load.close();\r\n        })\r\n        .catch(err => error(err, this));\r\n    },\r\n    // 根据页面的不同，传输不同的数据，也可以在userTopics中判断\r\n    sendList(list) {\r\n      return this.num === 3 ? list : [list[this.num]];\r\n    },\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    if (to.params.list) {\r\n      this.num = to.params.list === 'topics' ? 1 : 2;\r\n    } else {\r\n      this.num = 3;\r\n      // 当用户id不同时，重新获取数据\r\n      if (to.params.userId !== from.params.userId) {\r\n        this.finish = false;\r\n        this.getTopic(to.params.userId, Loading.service(this.$loadConfig));\r\n      }\r\n    }\r\n    next();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.m-user {\r\n  padding: 50px 20px;\r\n  background: #f1f1f1;\r\n  min-height: 100vh;\r\n  .wrap {\r\n    display: flex;\r\n    align-items: flex-start;\r\n  }\r\n}\r\n\r\n@media all and (max-width: 600px) {\r\n  .m-user {\r\n    padding: 0;\r\n    .wrap {\r\n      flex-direction: column;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/appUser.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-user\"},[_c('app-header',{attrs:{\"title\":(_vm.userId + \" 的主页\")}}),_vm._v(\" \"),(_vm.finish)?_c('div',{staticClass:\"wrap\"},[_c('user-panel',{attrs:{\"data\":_vm.userInfo,\"count\":_vm.topicList[2].length}}),_vm._v(\" \"),_c('user-topics',{attrs:{\"topicNum\":_vm.num,\"userId\":_vm.userId,\"topicList\":_vm.sendList(_vm.topicList)}})],1):_vm._e(),_vm._v(\" \"),_c('app-utils'),_vm._v(\" \"),_c('app-prompt',{attrs:{\"show\":_vm.prompt,\"text\":_vm.promptText},on:{\"close\":_vm.hide}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c41cd45a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/appUser.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c41cd45a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./appUser.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appUser.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appUser.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c41cd45a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./appUser.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/appUser.vue\n// module id = null\n// module chunks = ","<template>\r\n<!-- 回到顶部、发表话题组件 -->\r\n<transition name=\"utils\">\r\n  <ul class=\"u-utils\">\r\n    <!--回到顶部-->\r\n    <transition name=\"top\">\r\n      <li class=\"item\" v-if=\"pos\">\r\n        <i @click=\"top\" class=\"material-icons top\">arrow_upward</i>\r\n      </li>\r\n    </transition>\r\n    <!--发表话题-->\r\n    <li class=\"item\">\r\n      <i @click=\"edit\" class=\"material-icons edit\">edit</i>\r\n    </li>\r\n  </ul>\r\n</transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'appUtils',\r\n  data() {\r\n    return {\r\n      token: '',\r\n      pos: false,\r\n      w: window,\r\n    };\r\n  },\r\n  created() {\r\n    this.token = this.$store.store.state.user.token;\r\n    this.w.addEventListener('scroll', this.scroll);\r\n  },\r\n  methods: {\r\n    edit() {\r\n      // 如果未登录，登录后会跳转到发表主题页\r\n      this.$router.push('/create');\r\n      if (!this.token) {\r\n        this.$router.push('/login');\r\n      }\r\n    },\r\n    scroll() {\r\n      this.pos = this.w.scrollY > 500;\r\n    },\r\n    top() {\r\n      // 0.5s\r\n      const w = this.w;\r\n      // 速度\r\n      const v = w.scrollY / 10;\r\n      this.pos = false;\r\n      w.removeEventListener('scroll', this.scroll);\r\n\r\n      let timer = null;\r\n      timer = setInterval(() => {\r\n        w.scrollBy(0, -v);\r\n\r\n        if (w.scrollY <= 0) {\r\n          clearInterval(timer);\r\n          w.addEventListener('scroll', this.scroll);\r\n        }\r\n      }, 50);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.u-utils {\r\n  position: fixed;\r\n  bottom: 30px;\r\n  right: 30px;\r\n  z-index: 100;\r\n  .item {\r\n    @include wh(40px);\r\n    text-align: center;\r\n    margin-top: 5px;\r\n    background: $re;\r\n    border-radius: 50%;\r\n    box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.157647), 5px 5px 21px rgba(0, 0, 0, 0.157647);\r\n    i {\r\n      position: relative;\r\n      color: #fff;\r\n      cursor: pointer;\r\n      line-height: 40px;\r\n      &::before {\r\n        position: absolute;\r\n        top: 8px;\r\n        right: 30px;\r\n        visibility: hidden;\r\n        height: 24px;\r\n        padding: 6px;\r\n        font: 12px/1 $ff;\r\n        color: #fff;\r\n        border-radius: 3px;\r\n        background: rgba(0, 0, 0, 0.1);\r\n        transform: translate(0, 0);\r\n      }\r\n      &:hover {\r\n        color: #000;\r\n        &::before {\r\n          transition: 0.3s;\r\n          visibility: visible;\r\n          background: rgba(0, 0, 0, 0.7);\r\n          transform: translate(-10px, 0);\r\n        }\r\n      }\r\n      &.edit::before {\r\n        content: '发布话题';\r\n      }\r\n      &.top::before {\r\n        content: '回到顶部';\r\n      }\r\n    }\r\n  }\r\n}\r\n.utils-enter-active,\r\n.utils-leave-active,\r\n.top-enter-active,\r\n.top-leave-active {\r\n  transition: 0.5s;\r\n}\r\n.utils-enter,\r\n.utils-leave-active,\r\n.top-enter,\r\n.top-leave-active {\r\n  opacity: 0;\r\n  transform: translate(0, 50px);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/appUtils.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"utils\"}},[_c('ul',{staticClass:\"u-utils\"},[_c('transition',{attrs:{\"name\":\"top\"}},[(_vm.pos)?_c('li',{staticClass:\"item\"},[_c('i',{staticClass:\"material-icons top\",on:{\"click\":_vm.top}},[_vm._v(\"arrow_upward\")])]):_vm._e()]),_vm._v(\" \"),_c('li',{staticClass:\"item\"},[_c('i',{staticClass:\"material-icons edit\",on:{\"click\":_vm.edit}},[_vm._v(\"edit\")])])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ad80af2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/appUtils.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6ad80af2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./appUtils.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appUtils.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appUtils.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ad80af2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./appUtils.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/appUtils.vue\n// module id = null\n// module chunks = ","// 格式化时间显示\r\nfunction getTime(time, format) {\r\n  if (format) {\r\n    return time.split(/T|\\..+/, 2).join(' ');\r\n  }\r\n  const minutes = (new Date() - new Date(time)) / 60000;\r\n  const hours = minutes / 60;\r\n  const days = hours / 24;\r\n  const weeks = days / 7;\r\n  const months = weeks / 4;\r\n  const years = months / 12;\r\n  if (minutes < 60) {\r\n    return `${Math.floor(minutes) > 0 ? Math.floor(minutes) : 0} 分钟前`;\r\n  } else if (hours < 24) {\r\n    return `${Math.floor(hours)} 小时前`;\r\n  } else if (days < 7) {\r\n    return `${Math.floor(days)} 天前`;\r\n  } else if (weeks < 4) {\r\n    return `${Math.floor(weeks)} 周前`;\r\n  } else if (months < 12) {\r\n    return `${Math.floor(months)} 月前`;\r\n  }\r\n  return `${Math.floor(years)} 年前`;\r\n}\r\n\r\n// 获取标签\r\nfunction getTag(item, crt) {\r\n  if (item.top) {\r\n    return 'top';\r\n  } else if (crt && crt !== 'home') {\r\n    return crt;\r\n  }\r\n  return item.good ? 'good' : item.tab;\r\n}\r\n\r\n// 错误处理函数\r\nfunction error(err, _this) {\r\n  if (err.response) {\r\n    _this.promptText = err.response.data.error_msg;\r\n    _this.prompt = true;\r\n  }\r\n}\r\n\r\nexport { getTime, getTag, error };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/utils.js","<template>\r\n<!-- 用户消息页面 -->\r\n<div class=\"m-message\">\r\n  <app-header title=\"个人消息\"></app-header>\r\n  <!-- 获取到数据才可以加载 -->\r\n  <div v-if=\"finish\" class=\"wrap\">\r\n    <div class=\"m-usermes\">\r\n      <!-- 用户新消息、过往消息 -->\r\n      <div v-for=\"(item, index) of mesItem\" :key=\"item\">\r\n        <h4 class=\"u-desc-title\">\r\n          {{ item }}\r\n          <!-- 消息数目 -->\r\n          <span class=\"u-list-count\">{{mesList[index].length}}</span>\r\n          <!-- 标记全部已读 -->\r\n          <button\r\n            class=\"other\"\r\n            v-if=\"index === 0\"\r\n            :disabled=\"mesList[0].length === 0\"\r\n            :class=\"{'mark-not' : mesList[0].length === 0}\"\r\n            @click=\"markAll\">标记全部已读</button>\r\n        </h4>\r\n        <!-- 消息列表 -->\r\n        <ul v-if=\"mesList[index].length\">\r\n          <li v-for=\"mes of changeContent(mesList[index])\" :key=\"mes.id\" class=\"list\">\r\n            <!-- title 包括消息用户、时间、类型、标题 -->\r\n            <p class=\"title\">\r\n              <router-link :to=\"`/user/${mes.author.loginname}`\">\r\n                {{ mes.author.loginname }}\r\n              </router-link>于<span>{{getTime(mes.reply.create_at)}}</span>&nbsp;在&nbsp;<router-link :to=\"`/topic/${mes.topic.id}#a${mes.reply.id}`\" @click.native.prevent=\"markOne(mes, index)\">{{ mes.topic.title }}\r\n              </router-link>&nbsp;中{{mesType[mes.type]}}了你：\r\n            </p>\r\n            <!-- 消息内容 -->\r\n            <article class=\"content markdown-body\" v-html=\"mes.reply.content\"></article>\r\n          </li>\r\n          <!-- 分页 -->\r\n          <li class=\"e-page\" v-if=\"mesList[index].length >= 10\">\r\n            <el-pagination\r\n              background\r\n              layout=\"prev, pager, next\"\r\n              :current-page.sync=\"mesList[index].crtPage\"\r\n              @current-change=\"changePage\"\r\n              :total=\"mesList[index].length\">\r\n            </el-pagination>\r\n          </li>\r\n        </ul>\r\n        <p class=\"not\" v-else>无消息</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-utils></app-utils>\r\n  <app-prompt\r\n    :show=\"prompt\"\r\n    :text=\"promptText\"\r\n    @close=\"hide\"></app-prompt>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { Loading } from 'element-ui';\r\nimport { error, getTime } from '../assets/utils';\r\nimport appUtils from '../components/appUtils';\r\nimport appHeader from '../components/appHeader';\r\nimport appPrompt from '../components/appPrompt';\r\nimport userPanel from './userPanel';\r\nimport userTopics from './userTopics';\r\n\r\nexport default {\r\n  name: 'appUser',\r\n  data() {\r\n    return {\r\n      mesItem: ['新消息', '过往消息'],\r\n      mesList: [],\r\n      mesType: {\r\n        reply: '回复',\r\n        at: '@',\r\n      },\r\n      token: '',\r\n      prompt: false,\r\n      promptText: '',\r\n      finish: false,\r\n    };\r\n  },\r\n  props: ['userId'],\r\n  components: {\r\n    appUtils,\r\n    appPrompt,\r\n    appHeader,\r\n    userPanel,\r\n    userTopics,\r\n  },\r\n  // 用户未登录跳转到登录页\r\n  created() {\r\n    const token = this.$store.store.state.user.token;\r\n    if (!token) {\r\n      this.$router.push('/login');\r\n    } else {\r\n      this.token = this.$store.store.state.user.token;\r\n      this.getMessage(Loading.service(this.$loadConfig));\r\n    }\r\n  },\r\n  methods: {\r\n    hide() {\r\n      this.prompt = false;\r\n    },\r\n    // 获取信息，加入当前页为第一页\r\n    getMessage(load) {\r\n      this.$http\r\n        .get(`messages?accesstoken=${this.token}`)\r\n        .then(res => {\r\n          const data = res.data.data;\r\n          this.mesList.push(data.hasnot_read_messages, data.has_read_messages);\r\n          this.$set(this.mesList[0], 'crtPage', 1);\r\n          this.$set(this.mesList[1], 'crtPage', 1);\r\n          this.finish = true;\r\n          load.close();\r\n        })\r\n        .catch(err => error(err, this));\r\n    },\r\n    // 页码改变时回到顶部\r\n    changePage() {\r\n      window.scrollTo(0, 0);\r\n    },\r\n    // 改变页码时改变内容\r\n    changeContent(list) {\r\n      return list.slice((list.crtPage - 1) * 10, list.crtPage * 10);\r\n    },\r\n    // 标记单个已读：当点击话题名时标记已读并跳转\r\n    markOne(mes, index) {\r\n      if (index === 0) {\r\n        this.$http\r\n          .post(`message/mark_one/${mes.id}`, {\r\n            accesstoken: this.token,\r\n          })\r\n          .then(() => {\r\n            this.$store.store.commit('setCount', -1);\r\n          })\r\n          .catch(err => error(err, this));\r\n      }\r\n      this.$router.push(`/topic/${mes.topic.id}#a${mes.reply.id}`);\r\n    },\r\n    // 标记全部已读,当按钮disabled时，click事件不会触发\r\n    markAll() {\r\n      this.$http\r\n        .post('message/mark_all', {\r\n          accesstoken: this.token,\r\n        })\r\n        .then(() => {\r\n          // 将新消息移到过往消息中\r\n          this.$store.store.commit('setCount', -this.mesList[0].length);\r\n          this.mesList[1].unshift(...this.mesList[0]);\r\n          this.mesList[0].splice(0);\r\n        })\r\n        .catch(err => error(err, this));\r\n    },\r\n    getTime,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.m-message {\r\n  padding: 50px 20px;\r\n  background: #f1f1f1;\r\n  min-height: 100vh;\r\n  .m-usermes {\r\n    min-width: 300px;\r\n    > div {\r\n      background: #fff;\r\n      margin-bottom: 20px;\r\n      border-radius: 0 0 10px 10px;\r\n      padding-bottom: 20px;\r\n      > ul {\r\n        box-shadow: $bs;\r\n      }\r\n    }\r\n    .not {\r\n      padding: 20px 0 0 20px;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n  .list {\r\n    padding: 10px;\r\n    border-bottom: 1px solid #ccc;\r\n    .title {\r\n      font-size: 14px;\r\n      a {\r\n        color: #4078c0;\r\n        font-weight: bold;\r\n        &:hover {\r\n          color: $re;\r\n          text-decoration: underline;\r\n        }\r\n      }\r\n    }\r\n    .content {\r\n      margin-top: 10px;\r\n      background: #f6f6f6;\r\n      padding: 10px 10px 0 10px;\r\n    }\r\n  }\r\n  .e-page {\r\n    margin-bottom: -20px;\r\n    padding: 10px 0;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n  .mark-not {\r\n    background: #bdbdbd;\r\n    cursor: not-allowed;\r\n    &:hover {\r\n      background: #bdbdbd;\r\n    }\r\n  }\r\n}\r\n\r\n@media all and (max-width: 600px) {\r\n  .m-message {\r\n    padding: 10px 0;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/appMessage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-message\"},[_c('app-header',{attrs:{\"title\":\"个人消息\"}}),_vm._v(\" \"),(_vm.finish)?_c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"m-usermes\"},_vm._l((_vm.mesItem),function(item,index){return _c('div',{key:item},[_c('h4',{staticClass:\"u-desc-title\"},[_vm._v(\"\\r\\n          \"+_vm._s(item)+\"\\r\\n          \"),_vm._v(\" \"),_c('span',{staticClass:\"u-list-count\"},[_vm._v(_vm._s(_vm.mesList[index].length))]),_vm._v(\" \"),(index === 0)?_c('button',{staticClass:\"other\",class:{'mark-not' : _vm.mesList[0].length === 0},attrs:{\"disabled\":_vm.mesList[0].length === 0},on:{\"click\":_vm.markAll}},[_vm._v(\"标记全部已读\")]):_vm._e()]),_vm._v(\" \"),(_vm.mesList[index].length)?_c('ul',[_vm._l((_vm.changeContent(_vm.mesList[index])),function(mes){return _c('li',{key:mes.id,staticClass:\"list\"},[_c('p',{staticClass:\"title\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + (mes.author.loginname))}},[_vm._v(\"\\r\\n                \"+_vm._s(mes.author.loginname)+\"\\r\\n              \")]),_vm._v(\"于\"),_c('span',[_vm._v(_vm._s(_vm.getTime(mes.reply.create_at)))]),_vm._v(\" 在 \"),_c('router-link',{attrs:{\"to\":(\"/topic/\" + (mes.topic.id) + \"#a\" + (mes.reply.id))},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.markOne(mes, index)}}},[_vm._v(_vm._s(mes.topic.title)+\"\\r\\n              \")]),_vm._v(\" 中\"+_vm._s(_vm.mesType[mes.type])+\"了你：\\r\\n            \")],1),_vm._v(\" \"),_c('article',{staticClass:\"content markdown-body\",domProps:{\"innerHTML\":_vm._s(mes.reply.content)}})])}),_vm._v(\" \"),(_vm.mesList[index].length >= 10)?_c('li',{staticClass:\"e-page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.mesList[index].crtPage,\"total\":_vm.mesList[index].length},on:{\"update:currentPage\":function($event){_vm.$set(_vm.mesList[index], \"crtPage\", $event)},\"current-change\":_vm.changePage}})],1):_vm._e()],2):_c('p',{staticClass:\"not\"},[_vm._v(\"无消息\")])])}))]):_vm._e(),_vm._v(\" \"),_c('app-utils'),_vm._v(\" \"),_c('app-prompt',{attrs:{\"show\":_vm.prompt,\"text\":_vm.promptText},on:{\"close\":_vm.hide}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0420aa06\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/appMessage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0420aa06\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./appMessage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appMessage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appMessage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0420aa06\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./appMessage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/appMessage.vue\n// module id = null\n// module chunks = ","<template>\r\n<!-- 顶栏 -->\r\n<header class=\"u-header\">\r\n  <!-- logo，导航到主页 -->\r\n  <h1 class=\"logo\">\r\n    <router-link to=\"/\">\r\n      <img src=\"https://o4j806krb.qnssl.com/public/images/cnodejs_light.svg\" alt=\"cnodejs\">\r\n    </router-link>\r\n  </h1>\r\n  <!-- 左上角页面标题 -->\r\n  <h2>\r\n    {{ title }}\r\n  </h2>\r\n</header>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'appHeader',\r\n  props: ['title'],\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n$h: 64px;\r\n\r\n.u-header {\r\n  position: fixed;\r\n  z-index: 3000;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  @include wh(100%, $h);\r\n  background: $bl;\r\n  color: #fff;\r\n  box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.157647), 5px 5px 40px rgba(0, 0, 0, 0.157647);\r\n  .logo {\r\n    text-align: center;\r\n    a {\r\n      display: inline-block;\r\n    }\r\n    img {\r\n      display: block;\r\n      height: $h;\r\n      padding: $h/4 0;\r\n    }\r\n  }\r\n  h2 {\r\n    position: absolute;\r\n    left: $h;\r\n    top: 0;\r\n    font: normal 18px /#{$h} $ff;\r\n    color: #fff;\r\n  }\r\n}\r\n@media all and (max-width: 600px) {\r\n  .u-header .logo img {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/appHeader.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"u-header\"},[_c('h1',{staticClass:\"logo\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('img',{attrs:{\"src\":\"https://o4j806krb.qnssl.com/public/images/cnodejs_light.svg\",\"alt\":\"cnodejs\"}})])],1),_vm._v(\" \"),_c('h2',[_vm._v(\"\\r\\n    \"+_vm._s(_vm.title)+\"\\r\\n  \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-392b625e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/appHeader.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-392b625e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./appHeader.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appHeader.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appHeader.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-392b625e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./appHeader.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/appHeader.vue\n// module id = null\n// module chunks = ","<template>\r\n<!-- 评论回复、新建、编辑话题框及发布按钮组件 -->\r\n  <div class=\"u-publish\">\r\n    <textarea\r\n      class=\"ct\"\r\n      v-model=\"content\"\r\n      placeholder=\"支持markdown语法格式\"></textarea>\r\n    <button\r\n      class=\"submit\"\r\n      :class=\"`sub-${small ? 'small' : 'normal'}`\"\r\n      @click=\"sub\">{{ btnText }}</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'appPublish',\r\n  props: {\r\n    at: String,\r\n    index: Number,\r\n    btnText: String,\r\n    small: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      content: '',\r\n    };\r\n  },\r\n  created() {\r\n    this.content = this.at ? `${this.at} ${this.content}` : this.content;\r\n  },\r\n  methods: {\r\n    sub() {\r\n      this.$emit('reply', this.content, this.index);\r\n      this.content = '';\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.u-publish {\r\n  margin-bottom: 10px;\r\n  .ct {\r\n    width: 100%;\r\n    height: 200px;\r\n    padding: 20px;\r\n    font-size: 14px;\r\n    border-radius: 5px;\r\n    &:focus {\r\n      border: 1px solid $re;\r\n      box-shadow: 1px 1px 10px rgba(255, 82, 82, 0.2), 5px 5px 21px rgba(255, 82, 82, 0.1);\r\n    }\r\n  }\r\n  .submit {\r\n    width: 100%;\r\n    background: $re;\r\n    color: #fff;\r\n    border: none;\r\n    border-right: 2px solid #d32f2f;\r\n    border-bottom: 3px solid #d32f2f;\r\n    border-radius: 5px;\r\n    letter-spacing: 0.5em;\r\n    &:hover {\r\n      opacity: 0.9;\r\n    }\r\n  }\r\n  .sub-normal {\r\n    height: 40px;\r\n    @include fl(20px, 2);\r\n  }\r\n  .sub-small {\r\n    height: 30px;\r\n    @include fl(14px, 30px);\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/appPublish.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"u-publish\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],staticClass:\"ct\",attrs:{\"placeholder\":\"支持markdown语法格式\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"submit\",class:(\"sub-\" + (_vm.small ? 'small' : 'normal')),on:{\"click\":_vm.sub}},[_vm._v(_vm._s(_vm.btnText))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8bb2d47e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/appPublish.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8bb2d47e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./appPublish.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appPublish.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appPublish.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8bb2d47e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./appPublish.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/appPublish.vue\n// module id = null\n// module chunks = ","<template>\r\n<!-- 话题详情及内容 -->\r\n<div class=\"m-topic-ct\" v-if=\"data.title\">\r\n  <!-- 话题详情：作者、标题、时间、是否收藏 -->\r\n  <div class=\"intro\">\r\n    <h2 class=\"title\" :class=\"getTag(data)\">{{ data.title }}</h2>\r\n    <div class=\"author\">\r\n      <router-link :to=\"`/user/${data.author.loginname}`\">\r\n        <img\r\n          :src=\"data.author.avatar_url\"\r\n          :alt=\"data.author.loginname\">\r\n      </router-link>\r\n      <div class=\"desc\">\r\n        <p class=\"name\">{{ data.author.loginname }}</p>\r\n        <p>\r\n          <span>发布于&nbsp;{{ getTime(data.create_at) }}</span>&nbsp;\r\n          <span>阅读&nbsp;{{ data.visit_count }}</span>&nbsp;\r\n          <span>评论&nbsp;{{ data.reply_count }}</span>\r\n        </p>\r\n      </div>\r\n      <button\r\n        class=\"collect\"\r\n        v-if=\"isAuthor(data.author_id)\"\r\n        @click=\"editTopic(data)\">编辑</button>\r\n      <button\r\n        class=\"collect\"\r\n        v-if=\"user.token\"\r\n        :class=\"{'cancel': data.is_collect}\"\r\n        @click=\"changeCollect(data.is_collect)\">{{ data.is_collect ? '取消收藏' : '收藏' }}</button>\r\n    </div>\r\n  </div>\r\n  <!-- 话题内容 -->\r\n  <div class=\"body markdown-body\" v-html=\"data.content\">\r\n  </div>\r\n  <app-prompt\r\n    :show=\"prompt\"\r\n    :text=\"promptText\"\r\n    @close=\"hide\"></app-prompt>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { getTime, getTag, error } from '../assets/utils';\r\nimport appPrompt from '../components/appPrompt';\r\n\r\nexport default {\r\n  name: 'topicContent',\r\n  data() {\r\n    return {\r\n      send: 'before',\r\n      prompt: false,\r\n      promptText: '',\r\n    };\r\n  },\r\n  components: {\r\n    appPrompt,\r\n  },\r\n  props: ['data', 'user'],\r\n  methods: {\r\n    // 收藏或取消收藏\r\n    changeCollect(state) {\r\n      if (this.send === 'loading') return;\r\n      this.send = 'loading';\r\n\r\n      this.$http\r\n        .post(`topic_collect/${state ? 'de_collect' : 'collect'}`, {\r\n          accesstoken: this.user.token,\r\n          topic_id: this.data.id,\r\n        })\r\n        .then(() => {\r\n          this.data.is_collect = !state;\r\n          this.send = 'before';\r\n        })\r\n        .catch(err => {\r\n          this.send = 'before';\r\n          error(err, this);\r\n        });\r\n    },\r\n    // 话题作者=登录用户\r\n    isAuthor(id) {\r\n      return id === this.user.id;\r\n    },\r\n    // 编辑话题\r\n    editTopic(data) {\r\n      // 重新请求话题，获得未渲染内容，请求成功转到编辑话题页\r\n      this.$http\r\n        .get(`topic/${this.data.id}?mdrender=false`)\r\n        .then(res => {\r\n          this.$store.store.commit('editTopic', {\r\n            accesstoken: this.user.token,\r\n            topic_id: data.id,\r\n            title: data.title,\r\n            tab: data.tab,\r\n            content: res.data.data.content,\r\n          });\r\n          this.$router.push('/edit');\r\n        })\r\n        .catch(err => error(err, this));\r\n    },\r\n    hide() {\r\n      this.prompt = false;\r\n    },\r\n    getTime,\r\n    getTag,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.m-topic-ct {\r\n  margin-bottom: 30px;\r\n  .intro {\r\n    padding-bottom: 20px;\r\n  }\r\n  .title {\r\n    // 多行显示\r\n    font: bold 20px/1.5 $ff;\r\n    padding: 10px 0;\r\n    &::before {\r\n      display: inline-block;\r\n      margin-right: 6px;\r\n      padding: 0 10px;\r\n      color: #fff;\r\n      border-radius: 4px;\r\n      line-height: 24px;\r\n      @include fc(14px, #fff);\r\n      vertical-align: text-bottom;\r\n    }\r\n    @include tag;\r\n  }\r\n  .author {\r\n    display: flex;\r\n    img {\r\n      @include wh(40px);\r\n      border-radius: 50%;\r\n    }\r\n    .desc {\r\n      flex-grow: 1;\r\n      padding-left: 10px;\r\n      line-height: 20px;\r\n      color: #616161;\r\n      .name {\r\n        font: bold 14px/20px $ff;\r\n        color: #000;\r\n        &::before {\r\n          content: '作者';\r\n          margin-right: 10px;\r\n          border: 1px solid $re;\r\n          border-radius: 4px;\r\n          color: $re;\r\n          @include fl(12px, 14px);\r\n        }\r\n      }\r\n    }\r\n    .collect {\r\n      height: 34px;\r\n      align-self: center;\r\n      padding: 10px;\r\n      @include fc(14px, #fff);\r\n      border-radius: 4px;\r\n      border: none;\r\n      cursor: pointer;\r\n      background: $re;\r\n      margin-left: 10px;\r\n      &.cancel {\r\n        background: #bdbdbd;\r\n        min-width: 80px;\r\n        &:hover {\r\n          background: #424242;\r\n        }\r\n      }\r\n      &:hover {\r\n        background: #dd2c00;\r\n      }\r\n    }\r\n  }\r\n  .body img {\r\n    width: 80%;\r\n    margin: 0 10%;\r\n  }\r\n}\r\n@media all and (max-width: 800px) {\r\n  .m-topic-ct {\r\n    margin: 0;\r\n    padding: 0 10px;\r\n    .intro {\r\n      padding-bottom: 0;\r\n    }\r\n    .body img {\r\n      width: 100%;\r\n      margin: 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/topicContent.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.data.title)?_c('div',{staticClass:\"m-topic-ct\"},[_c('div',{staticClass:\"intro\"},[_c('h2',{staticClass:\"title\",class:_vm.getTag(_vm.data)},[_vm._v(_vm._s(_vm.data.title))]),_vm._v(\" \"),_c('div',{staticClass:\"author\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + (_vm.data.author.loginname))}},[_c('img',{attrs:{\"src\":_vm.data.author.avatar_url,\"alt\":_vm.data.author.loginname}})]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.data.author.loginname))]),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(\"发布于 \"+_vm._s(_vm.getTime(_vm.data.create_at)))]),_vm._v(\" \\r\\n          \"),_c('span',[_vm._v(\"阅读 \"+_vm._s(_vm.data.visit_count))]),_vm._v(\" \\r\\n          \"),_c('span',[_vm._v(\"评论 \"+_vm._s(_vm.data.reply_count))])])]),_vm._v(\" \"),(_vm.isAuthor(_vm.data.author_id))?_c('button',{staticClass:\"collect\",on:{\"click\":function($event){_vm.editTopic(_vm.data)}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),(_vm.user.token)?_c('button',{staticClass:\"collect\",class:{'cancel': _vm.data.is_collect},on:{\"click\":function($event){_vm.changeCollect(_vm.data.is_collect)}}},[_vm._v(_vm._s(_vm.data.is_collect ? '取消收藏' : '收藏'))]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"body markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.data.content)}}),_vm._v(\" \"),_c('app-prompt',{attrs:{\"show\":_vm.prompt,\"text\":_vm.promptText},on:{\"close\":_vm.hide}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3dfcb56f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/topicContent.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3dfcb56f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./topicContent.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./topicContent.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./topicContent.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3dfcb56f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./topicContent.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/topicContent.vue\n// module id = null\n// module chunks = ","<template>\r\n<!-- 话题评论 -->\r\n<div class=\"m-topic-comment\">\r\n  <p class=\"u-desc-title\">\r\n    {{ data.reply_count }}&nbsp;条回复\r\n  </p>\r\n  <!-- 评论列表 -->\r\n  <ol class=\"body\" @click.prevent=\"dealIink\">\r\n    <li\r\n      class=\"item\"\r\n      v-for=\"(val, index) of data.replies\"\r\n      :class=\"{author: isAuthor(val.author.loginname)}\"\r\n      :key=\"index\"\r\n      :id=\"`a${val.id}`\">\r\n      <div class=\"info\">\r\n        <router-link :to=\"`/user/${val.author.loginname}`\">\r\n          <img\r\n          :src=\"val.author.avatar_url\"\r\n          :alt=\"val.author.loginname\">\r\n        </router-link>\r\n        <span class=\"user\">\r\n          {{val.author.loginname}}\r\n          {{index + 1}}楼&nbsp;{{getTime(val.create_at)}}\r\n        </span>\r\n        <!-- 对评论点赞、回复 -->\r\n        <span>\r\n          <i\r\n            class=\"material-icons\"\r\n            :class=\"{ups: isUps(val.ups)}\"\r\n            @click=\"ups(val, index)\">thumb_up</i>\r\n          {{ val.ups.length || '' }}\r\n          <i\r\n            class=\"material-icons\"\r\n            @click=\"reply(val, index)\">comment</i>\r\n        </span>\r\n      </div>\r\n      <!-- 评论内容 -->\r\n      <div class=\"content\">\r\n        <p class=\"main markdown-body\" v-html=\"val.content\"></p>\r\n        <app-publish\r\n          v-if=\"val.show\"\r\n          :at=\"`@${val.author.loginname}`\"\r\n          :index=\"index\"\r\n          :small=\"true\"\r\n          btnText=\"提交\"\r\n          @reply=\"subReply\"></app-publish>\r\n      </div>\r\n    </li>\r\n  </ol>\r\n  <app-prompt\r\n    :show=\"prompt\"\r\n    :text=\"promptText\"\r\n    @close=\"hide\"></app-prompt>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { getTime, error } from '../assets/utils';\r\nimport appPrompt from '../components/appPrompt';\r\nimport appPublish from '../components/appPublish';\r\n\r\nexport default {\r\n  name: 'topicComment',\r\n  props: ['data', 'user'],\r\n  data() {\r\n    return {\r\n      send: 'before',\r\n      prompt: false,\r\n      promptText: '',\r\n    };\r\n  },\r\n  components: {\r\n    appPrompt,\r\n    appPublish,\r\n  },\r\n  methods: {\r\n    dealIink(e) {\r\n      // 站外链接打开新窗口\r\n      // 通过js获取到的相对url为绝对url\r\n      // 如：e.target.href = 'http://localhost:8080/user/duxy\r\n      // link: ['http', '', 'localhost:8080', 'user', 'duxy']\r\n      if (e.target.tagName === 'A') {\r\n        const link = e.target.href.split(/\\//);\r\n        if (link[2] === window.location.host) {\r\n          this.$router.push(`/${link.slice(3).join('/')}`);\r\n        } else {\r\n          window.open(e.target.href);\r\n        }\r\n      }\r\n    },\r\n    // 评论用户是否为作者\r\n    isAuthor(loginname) {\r\n      return loginname === this.data.author.loginname;\r\n    },\r\n    // 判断用户是否点赞\r\n    isUps(val) {\r\n      return this.user.token ? val.includes(this.user.id) : false;\r\n    },\r\n    // 点赞或取消点赞\r\n    ups(val) {\r\n      // 用户未登录跳转到登录页\r\n      if (!this.user.token) {\r\n        this.$router.push('/login');\r\n        return;\r\n      }\r\n      if (this.isAuthor(val.author.loginname)) {\r\n        this.promptText = '不能帮自己点赞';\r\n        this.prompt = true;\r\n        return;\r\n      }\r\n\r\n      this.$http\r\n        .post(`reply/${val.id}/ups`, {\r\n          accesstoken: this.user.token,\r\n        })\r\n        .then(res => (res.data.action === 'up' ? val.ups.push(this.user.id) : val.ups.pop()))\r\n        .catch(err => error(err, this));\r\n    },\r\n    hide() {\r\n      this.prompt = false;\r\n    },\r\n    // 弹出或收回回复框\r\n    reply(val, index) {\r\n      if (!this.user.token) {\r\n        this.$router.push('/login');\r\n        return;\r\n      }\r\n      this.data.replies[index].show = !val.show;\r\n    },\r\n    // 回复\r\n    subReply(content, i) {\r\n      if (this.send === 'loading') return;\r\n      this.send = 'loading';\r\n\r\n      if (content === '') {\r\n        this.prompt = true;\r\n        this.promptText = '回复内容不能为空';\r\n        return;\r\n      }\r\n\r\n      const replyContent = `${content}\r\n\r\n来自 [vue2-cnodejs](https://duxy1995.coding.me/)`;\r\n\r\n      this.$http\r\n        .post(`topic/${this.data.id}/replies`, {\r\n          accesstoken: this.user.token,\r\n          content: replyContent,\r\n          reply_id: this.data.replies[i].id,\r\n        })\r\n        .then(() => {\r\n          // 回复成功后收回回复框\r\n          this.data.replies[i].show = false;\r\n          this.$emit('reget');\r\n          this.send = 'before';\r\n        })\r\n        .catch(err => {\r\n          error(err, this);\r\n          this.send = 'before';\r\n        });\r\n    },\r\n    getTime,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.m-topic-comment {\r\n  margin-bottom: 30px;\r\n  box-shadow: $bs;\r\n  .item {\r\n    padding: 20px 20px 0 20px;\r\n    border-top: 1px solid #ccc;\r\n    &.author {\r\n      background: #e8f5e9;\r\n      li {\r\n        background: #e8f5e9;\r\n      }\r\n      .name::before {\r\n        content: '作者';\r\n        margin-right: 5px;\r\n        color: $re;\r\n        width: 30px;\r\n        border: 1px solid $re;\r\n        border-radius: 3px;\r\n        @include fl(12px, 14px);\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n  .info {\r\n    height: 20px;\r\n    display: flex;\r\n    font: bold 14px/20px $ff;\r\n    img {\r\n      @include wh(40px);\r\n      margin-right: 10px;\r\n      border-radius: 50%;\r\n    }\r\n    .user {\r\n      flex-grow: 1;\r\n    }\r\n    i {\r\n      cursor: pointer;\r\n      @include fc(18px, $bl);\r\n      vertical-align: text-bottom;\r\n      &:hover,\r\n      &.ups {\r\n        color: $re;\r\n      }\r\n    }\r\n  }\r\n  .content {\r\n    margin-left: 50px;\r\n  }\r\n}\r\n@media all and (max-width: 600px) {\r\n  .m-topic-comment {\r\n    margin: 0;\r\n    .item {\r\n      padding: 10px 10px 0 10px;\r\n    }\r\n    .content .u-publish {\r\n      .ct,\r\n      .submit {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n.markdown-link {\r\n  color: #4078c0;\r\n  cursor: pointer;\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n}\r\n.markdown-body {\r\n  text-align: justify;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/topicComment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-topic-comment\"},[_c('p',{staticClass:\"u-desc-title\"},[_vm._v(\"\\r\\n    \"+_vm._s(_vm.data.reply_count)+\" 条回复\\r\\n  \")]),_vm._v(\" \"),_c('ol',{staticClass:\"body\",on:{\"click\":function($event){$event.preventDefault();return _vm.dealIink($event)}}},_vm._l((_vm.data.replies),function(val,index){return _c('li',{key:index,staticClass:\"item\",class:{author: _vm.isAuthor(val.author.loginname)},attrs:{\"id\":(\"a\" + (val.id))}},[_c('div',{staticClass:\"info\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + (val.author.loginname))}},[_c('img',{attrs:{\"src\":val.author.avatar_url,\"alt\":val.author.loginname}})]),_vm._v(\" \"),_c('span',{staticClass:\"user\"},[_vm._v(\"\\r\\n          \"+_vm._s(val.author.loginname)+\"\\r\\n          \"+_vm._s(index + 1)+\"楼 \"+_vm._s(_vm.getTime(val.create_at))+\"\\r\\n        \")]),_vm._v(\" \"),_c('span',[_c('i',{staticClass:\"material-icons\",class:{ups: _vm.isUps(val.ups)},on:{\"click\":function($event){_vm.ups(val, index)}}},[_vm._v(\"thumb_up\")]),_vm._v(\"\\r\\n          \"+_vm._s(val.ups.length || '')+\"\\r\\n          \"),_c('i',{staticClass:\"material-icons\",on:{\"click\":function($event){_vm.reply(val, index)}}},[_vm._v(\"comment\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('p',{staticClass:\"main markdown-body\",domProps:{\"innerHTML\":_vm._s(val.content)}}),_vm._v(\" \"),(val.show)?_c('app-publish',{attrs:{\"at\":(\"@\" + (val.author.loginname)),\"index\":index,\"small\":true,\"btnText\":\"提交\"},on:{\"reply\":_vm.subReply}}):_vm._e()],1)])})),_vm._v(\" \"),_c('app-prompt',{attrs:{\"show\":_vm.prompt,\"text\":_vm.promptText},on:{\"close\":_vm.hide}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eb4d45b6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/topicComment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-eb4d45b6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./topicComment.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./topicComment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./topicComment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-eb4d45b6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./topicComment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/topicComment.vue\n// module id = null\n// module chunks = ","<template>\r\n<div class=\"g-topic\">\r\n    <app-header title=\"主题\"></app-header>\r\n  <!--文章内容及简介-->\r\n  <topic-content\r\n    :user=\"user\"\r\n    :data=\"data\"></topic-content>\r\n    <!--文章评论-->\r\n  <topic-comment\r\n    v-if=\"data.reply_count\"\r\n    :user=\"user\"\r\n    :data=\"data\"\r\n    @reget=\"getData\"></topic-comment>\r\n    <!--回复-->\r\n  <p class=\"u-desc-title\" v-if=\"user.token && finish\">添加回复</p>\r\n  <app-publish\r\n    v-if=\"user.token && finish\"\r\n    btnText=\"提交\"\r\n    @reply=\"subReply\"></app-publish>\r\n  <app-utils></app-utils>\r\n  <app-prompt\r\n    :show=\"prompt\"\r\n    :text=\"promptText\"\r\n    @close=\"hide\"></app-prompt>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { Loading } from 'element-ui';\r\nimport appUtils from '../components/appUtils';\r\nimport appHeader from '../components/appHeader';\r\nimport appPrompt from '../components/appPrompt';\r\nimport appPublish from '../components/appPublish';\r\nimport topicContent from './topicContent';\r\nimport topicComment from './topicComment';\r\nimport { error } from '../assets/utils';\r\n\r\nexport default {\r\n  name: 'apptopic',\r\n  props: ['topicId'],\r\n  data() {\r\n    return {\r\n      data: {},\r\n      user: null,\r\n      prompt: false,\r\n      promptText: '',\r\n      send: 'before',\r\n      finish: false,\r\n    };\r\n  },\r\n  components: {\r\n    appHeader,\r\n    appUtils,\r\n    appPrompt,\r\n    topicContent,\r\n    topicComment,\r\n    appPublish,\r\n  },\r\n  created() {\r\n    this.user = this.$store.store.state.user;\r\n    this.getData(Loading.service(this.$loadConfig));\r\n  },\r\n  methods: {\r\n    hide() {\r\n      this.prompt = false;\r\n    },\r\n    // 获取话题数据\r\n    getData(load) {\r\n      let url = this.topicId;\r\n      url = this.user ? `${url}?accesstoken=${this.user.token}` : url;\r\n      this.$http\r\n        .get(`topic/${url}`)\r\n        .then(res => {\r\n          const data = res.data.data;\r\n          if (!this.data.id) {\r\n            this.data = data;\r\n            // 为每个评论添加show: false表示评论框不可见\r\n            this.data.replies.forEach((val, index) => {\r\n              this.$set(val, 'show', false);\r\n              this.$set(val, 'index', index);\r\n            });\r\n            this.finish = true;\r\n            load.close();\r\n          } else {\r\n            // 用户回复后将回复内容push到评论列表中，添加show，回复数+1\r\n            const index = data.replies.length - 1;\r\n            this.data.replies.push(data.replies[index]);\r\n\r\n            this.$set(this.data.replies[index], 'show', false);\r\n            this.$set(this.data.replies[index], 'index', index);\r\n\r\n            ++this.data.reply_count;\r\n            // 由于获取到的id首位为数字(坑！)，因此加了a\r\n            this.$router.push(`/topic/${this.data.id}#a${this.data.replies[index].id}`);\r\n          }\r\n        })\r\n        .catch(err => error(err, this));\r\n    },\r\n    subReply(content) {\r\n      if (this.send === 'loading') return;\r\n      this.send = 'loading';\r\n\r\n      const data = {\r\n        accesstoken: this.user.token,\r\n        content: `${content}\r\n        \r\n来自 [vue2-cnodejs](https://duxy1995.coding.me/)`,\r\n      };\r\n      this.$http\r\n        .post(`topic/${this.topicId}/replies`, data)\r\n        .then(() => {\r\n          this.getData();\r\n          this.send = 'before';\r\n        })\r\n        .catch(err => {\r\n          error(err, this);\r\n          this.send = 'before';\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.g-topic {\r\n  @include wh(70%, 100%);\r\n  margin: 0 auto;\r\n}\r\n@media all and (max-width: 800px) {\r\n  .g-topic {\r\n    @include wh(100%);\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/appTopic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g-topic\"},[_c('app-header',{attrs:{\"title\":\"主题\"}}),_vm._v(\" \"),_c('topic-content',{attrs:{\"user\":_vm.user,\"data\":_vm.data}}),_vm._v(\" \"),(_vm.data.reply_count)?_c('topic-comment',{attrs:{\"user\":_vm.user,\"data\":_vm.data},on:{\"reget\":_vm.getData}}):_vm._e(),_vm._v(\" \"),(_vm.user.token && _vm.finish)?_c('p',{staticClass:\"u-desc-title\"},[_vm._v(\"添加回复\")]):_vm._e(),_vm._v(\" \"),(_vm.user.token && _vm.finish)?_c('app-publish',{attrs:{\"btnText\":\"提交\"},on:{\"reply\":_vm.subReply}}):_vm._e(),_vm._v(\" \"),_c('app-utils'),_vm._v(\" \"),_c('app-prompt',{attrs:{\"show\":_vm.prompt,\"text\":_vm.promptText},on:{\"close\":_vm.hide}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-71d63ca0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/appTopic.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-71d63ca0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./appTopic.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appTopic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./appTopic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-71d63ca0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./appTopic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/appTopic.vue\n// module id = null\n// module chunks = ","<template>\r\n<!-- 新建话题、编辑话题 -->\r\n<div class=\"m-new-topic\">\r\n  <app-header :title=\"type === 'new' ? '新建话题' : '编辑话题'\"></app-header>\r\n  <label for=\"select\" class=\"select\">选择版块：\r\n    <el-select v-model=\"data.tab\" placeholder=\"请选择\" id=\"select\" size=\"small\">\r\n      <el-option\r\n        v-for=\"item in options\"\r\n        :key=\"item.tab\"\r\n        :label=\"item.label\"\r\n        :value=\"item.tab\"\r\n        :disabled=\"item.disabled\">\r\n      </el-option>\r\n    </el-select>\r\n  </label>\r\n  <input\r\n    v-model=\"data.title\"\r\n    placeholder=\"标题字数 10字以上\"\r\n    class=\"title\">\r\n  <app-publish\r\n    btnText=\"发布\"\r\n    :at=\"data.content\"\r\n    @reply=\"addArticle\"></app-publish>\r\n  <app-prompt\r\n    :show=\"prompt\"\r\n    :text=\"promptText\"\r\n    @close=\"hide\"></app-prompt>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport appHeader from '../components/appHeader';\r\nimport appPublish from '../components/appPublish';\r\nimport appPrompt from '../components/appPrompt';\r\nimport { error } from '../assets/utils';\r\n\r\nexport default {\r\n  name: 'newTopic',\r\n  data() {\r\n    return {\r\n      options: [\r\n        { label: '问答', tab: 'ask', disabled: false },\r\n        { label: '分享', tab: 'share', disabled: false },\r\n        { label: '招聘', tab: 'job', disabled: false },\r\n        { label: '测试', tab: 'dev', disabled: false },\r\n      ],\r\n      type: '',\r\n      data: {\r\n        tab: '',\r\n        title: '',\r\n        accesstoken: '',\r\n        content: '',\r\n      },\r\n      send: 'before',\r\n      prompt: false,\r\n      promptText: '',\r\n    };\r\n  },\r\n  components: {\r\n    appHeader,\r\n    appPublish,\r\n    appPrompt,\r\n  },\r\n  created() {\r\n    const state = this.$store.store.state;\r\n    this.type = this.$route.name === 'newTopic' ? 'new' : 'edit';\r\n    if (!state.user.token) {\r\n      this.$router.push('/login');\r\n    } else {\r\n      // 临时用户只能选择在测试版块发帖\r\n      if (state.user.token === state.defaultToken) {\r\n        this.options.forEach((val, index) => {\r\n          if (val.tab !== 'dev') {\r\n            this.options[index].disabled = true;\r\n          }\r\n        });\r\n      }\r\n      this.data.accesstoken = state.user.token;\r\n      // 编辑话题部分\r\n      if (this.type === 'edit') {\r\n        Object.keys(state.topicMes).forEach(val => {\r\n          this.data[val] = state.topicMes[val];\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 新建话题、编辑话题\r\n    addArticle(content) {\r\n      if (this.send === 'loading') return;\r\n      this.send = 'loading';\r\n\r\n      this.data.content = content;\r\n      this.$http\r\n        .post(`topics${this.type === 'edit' ? '/update' : ''}`, this.data)\r\n        .then(res => {\r\n          // 转到话题页面\r\n          this.$router.push(`/topic/${res.data.topic_id}`);\r\n        })\r\n        .catch(err => {\r\n          error(err, this);\r\n          this.send = 'before';\r\n        });\r\n    },\r\n    hide() {\r\n      this.prompt = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../assets/mixin';\r\n\r\n.m-new-topic {\r\n  width: 100%;\r\n  padding: 30px 10%;\r\n  .select {\r\n    font-size: 14px;\r\n    display: block;\r\n    height: 40px;\r\n  }\r\n  .title {\r\n    width: 100%;\r\n    text-indent: 1em;\r\n    margin-bottom: 10px;\r\n    font: 14px/34px SimHei;\r\n    border: 1px solid #dcdfe6;\r\n    border-radius: 5px;\r\n    &:hover {\r\n      border-color: #c0c4cc;\r\n    }\r\n    &:focus {\r\n      border-color: $re;\r\n      box-shadow: 1px 1px 10px rgba(255, 82, 82, 0.2), 5px 5px 21px rgba(255, 82, 82, 0.1);\r\n    }\r\n  }\r\n  .ct {\r\n    height: 50vh;\r\n  }\r\n}\r\n@media all and (max-width: 600px) {\r\n  .m-new-topic {\r\n    padding: 10px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/newTopic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-new-topic\"},[_c('app-header',{attrs:{\"title\":_vm.type === 'new' ? '新建话题' : '编辑话题'}}),_vm._v(\" \"),_c('label',{staticClass:\"select\",attrs:{\"for\":\"select\"}},[_vm._v(\"选择版块：\\r\\n    \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"id\":\"select\",\"size\":\"small\"},model:{value:(_vm.data.tab),callback:function ($$v) {_vm.$set(_vm.data, \"tab\", $$v)},expression:\"data.tab\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.tab,attrs:{\"label\":item.label,\"value\":item.tab,\"disabled\":item.disabled}})}))],1),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.title),expression:\"data.title\"}],staticClass:\"title\",attrs:{\"placeholder\":\"标题字数 10字以上\"},domProps:{\"value\":(_vm.data.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"title\", $event.target.value)}}}),_vm._v(\" \"),_c('app-publish',{attrs:{\"btnText\":\"发布\",\"at\":_vm.data.content},on:{\"reply\":_vm.addArticle}}),_vm._v(\" \"),_c('app-prompt',{attrs:{\"show\":_vm.prompt,\"text\":_vm.promptText},on:{\"close\":_vm.hide}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57d86436\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/newTopic.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-57d86436\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./newTopic.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./newTopic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./newTopic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57d86436\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./newTopic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/newTopic.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNDg5OTAxNTQzNzg0IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE2ODEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTk0MS43MTQgNTEycTAgMTQzLjQzMy04My43MTIgMjU4LjAxMXQtMjE2LjI4MyAxNTguNTc0cS0xNS40MzMgMi44NTMtMjIuNTY1LTMuOTg2dC03LjEzMS0xNy4xNTJ2LTEyMC41NzZxMC01NS40NDItMjkuNjk2LTgxLjE1MiAzMi41ODUtMy40MzggNTguNTg3LTEwLjI3N3Q1My43MjMtMjIuMjcyIDQ2LjI5OS0zNy45OTggMzAuMjgxLTYwLjAxNCAxMS43MDMtODYuMDE2cTAtNjkuMTU3LTQ1LjEyOS0xMTcuNzIzIDIxLjEzOC01Mi4wMDUtNC41NzEtMTE2LjU1My0xNi4wMTgtNS4xNTctNDYuMjk5IDYuMjl0LTUyLjU1MyAyNS4xNjFsLTIxLjcyMyAxMy43MTRxLTUzLjEzOC0xNC44NDgtMTA5LjcxNC0xNC44NDh0LTEwOS43MTQgMTQuODQ4cS05LjE0My02LjI5LTI0LjI4My0xNS40MzN0LTQ3LjcyNi0yMi4wMTYtNDkuMTUyLTcuNzE3cS0yNS4xNjEgNjQuNTg1LTMuOTg2IDExNi41NTMtNDUuMTI5IDQ4LjU2Ny00NS4xMjkgMTE3LjcyMyAwIDQ4LjU2NyAxMS43MDMgODUuNzIzdDI5Ljk4OSA2MC4wMTQgNDYuMDA3IDM4LjI5IDUzLjcyMyAyMi4yNzIgNTguNTg3IDEwLjI3N3EtMjIuODU3IDIwLjU1My0yOC4wMTQgNTguODQzLTExLjk5NSA1LjcwNS0yNS43MSA4LjU1OHQtMzIuNTg1IDIuODUzLTM3LjQxMy0xMi4yODgtMzEuNzA3LTM1LjczcS0xMC44NjItMTguMjg2LTI3LjcyMS0yOS42OTZ0LTI4LjI3LTEzLjcxNGwtMTEuNDQ3LTEuNzE5cS0xMS45OTUgMC0xNi41NjcgMi41NnQtMi44NTMgNi41ODMgNS4xNTcgOC4wMDkgNy40MjQgNi44MzlsMy45ODYgMi44NTNxMTIuNTgxIDUuNzA1IDI0Ljg2OSAyMS43MjN0MTcuOTkzIDI5LjE0N2w1LjcwNSAxMy4xMjlxNy40MjQgMjEuNzIzIDI1LjE2MSAzNS4xNDV0MzguMjkgMTcuMTUyIDM5LjcxNyAzLjk4NiAzMS43MDctMi4wMTFsMTMuMTI5LTIuMzA0cTAgMjEuNzIzIDAuMjkzIDUwLjg3MXQwLjI5MyAzMC44NjZxMCAxMC4yNzctNy40MjQgMTcuMTUydC0yMi44NTcgMy45ODZxLTEzMi41NzEtNDMuOTk1LTIxNi4yODMtMTU4LjU3NHQtODMuNzEyLTI1OC4wMTFxMC0xMTkuNDQyIDU4Ljg0My0yMjAuMjd0MTU5LjcwNy0xNTkuNzA3IDIyMC4yNy01OC44NDMgMjIwLjI3IDU4Ljg0MyAxNTkuNzA3IDE1OS43MDcgNTguODQzIDIyMC4yN3oiIHAtaWQ9IjE2ODIiPjwvcGF0aD48L3N2Zz4=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/github.svg\n// module id = zSI2\n// module chunks = 1"],"sourceRoot":""}